/*! For license information please see auth.js.LICENSE.txt */
!function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=30)}([function(e,t,i){const o=i(13),n=i(3);e.exports=class extends n{constructor(e){super(),this._user=e.user,this._app=e.app,this._parent=e.parent,this._data={},this._components={},this._domId=("el"+Math.random()).split(".").join(""),this._events=[],this._componentEvents=[],this._eventsAssigned=!1,this.constructor.template&&(this._compiledTemplate=o.Compile(this.constructor.template)),this._noDiv=!1}avHTML(e,t){const i="#avatar_"+this._domId+"_"+e._id;let o=!1,n="";if(this._parent._avatarsMemory&&this._parent._avatarsMemory[e._id]&&this._parent._avatarsMemoryC[e._id])this._parent._avatarsMemoryC[e._id]--,t+=" wantmemory";else if(e.isMine&&e.isMine())n='<div class="avatarBack avatarMine"></div>',o=!0;else{if(e.hasAvatar()?(n=`<div class="avatarBack" data-loaded="1" style="background-image: url('${e.getAvatarBlobURLSync()}');"></div>`,o=!0):n=`<div class="avatarBack panelTopAvatarBack"></div><div class="avatarInitials avatarC${e.getAvatarColor()}">${e.getAvatarInitials()}</div>`,e._peerUser){let t="";e._peerUser._isOnline&&(t="online"),n+=`<div class="onlineBadge ${t}"><div class="dot"></div></div>`}null===e.hasAvatar()?setTimeout(()=>{if(e.getAvatarBlobURLSync()){let t=e.getAvatarBlobURLSync();const n=this.$(i);if(n){if(t){const e=n.querySelector(".avatarBack");e.style.backgroundImage="url('"+t+"')",e.dataset.loaded=1}o||n.classList.add("visible")}}else setTimeout(()=>{e.getAvatarBlobURL().then(e=>{const t=this.$(i);if(t){if(e){const i=t.querySelector(".avatarBack");i.style.backgroundImage="url('"+e+"')",i.dataset.loaded=1}o||t.classList.add("visible")}})},20)},200):o||this.nextTick(()=>{this.$(i)&&this.$(i).classList.add("visible")})}o&&(t+=" visible");let s="";return e._authorPeer&&(s='data-action="gotouser" data-id="'+e._id+'"',t+=" messageAction"),`\n\t\t<div class="${t} avatar" id="avatar_${this._domId}_${e._id}" data-id="${e._id}" ${s}>\n\t\t\t${n}\n\t\t</div>\n\t\t`}rippleOn(e,t){console.error("ripple on",t);t.offsetX,t.offsetY;const i=e.offsetWidth,o=document.createElement("span");o.className="ripple",o.style.setProperty("--scale",i),e.prepend(o),setTimeout(()=>{o.parentNode.removeChild(o)},500)}escapeHTML(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}nl2br(e){return(""+e).replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1 <br /> $2")}initScrollBarOn(e,t){return e?this._ps&&!t?(this._ps.update(),!0):(this._ps&&this._ps.destroy(),void(this._ps=new window.classes.PerfectScrollbar(e,{wheelSpeed:1,wheelPropagation:!1,minScrollbarLength:40,suppressScrollX:!0}))):(this._ps&&(this._ps.destroy(),this._ps=null),!1)}async loadJSON(e,t){let i="./tg/"+e;if(this._user._protocol){let e=await this._user._protocol.getCachedResources([{url:i}]);if(e&&e.length&&e[0].json)return JSON.parse(e[0].json)}let o=await new Promise((t,i)=>{var o=new XMLHttpRequest;o.open("GET",e),o.onload=function(e){t(o.responseText)},o.send()});return this._user._protocol.putToCacheAndForget({url:i,binary:o}),JSON.parse(o)}get domId(){return this._domId}nextTick(e){setTimeout(e,1)}debounce(e){let t;return function(){let i=()=>{t=null,e.apply(this,arguments)},o=!t;clearTimeout(t),t=setTimeout(i,100),o&&e.apply(this,arguments)}}$(e){const t=document.getElementById(this.domId);return e?t?t.querySelector(e):null:t}$$(e){const t=this.$();return t?t.querySelectorAll(e):[]}newC(e,t={}){return t.user=this._user,t.app=this._app,t.parent=this,new e(t)}assignDomEvents(){for(let e of this._events){let t=document.getElementById(e[1]),i=this[e[2]];e[3]||("scroll"==e[0]?e[3]=this.debounce(e=>{i.call(this,e)}):("nodebouncescroll"==e[0]&&(e[0]="scroll"),e[3]=e=>{i.call(this,e)})),t&&i&&t.addEventListener(e[0],e[3])}if(this._components)for(let e in this._components)this._components[e]&&this._components[e].assignDomEvents&&this._components[e].assignDomEvents();for(let e of this._componentEvents){let t=this._components[e[1]],i=this[e[2]];e[3]||(e[3]=e=>{i.call(this,e)}),t&&i&&t.addEventListener(e[0],e[3])}}preFocus(e){this.isTouchDevice()||this.nextTick(()=>{const t=this.$(e);t&&t.focus()})}isTouchDevice(){var e=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)||function(e){return window.matchMedia(e).matches}(["(",e.join("touch-enabled),("),"heartz",")"].join(""))}render(e){e=e||{},this._data.components=this._components,this._data.domId=this._domId,this._data.self=this;let t="";if(t=this._compiledTemplate?this._compiledTemplate(this._data,o):o.Render(this.template(),this._data),!e.noDOM){const e=document.getElementById(this._domId);e&&(-1!=t.indexOf('id="'+this._domId+'"')?e.outerHTML=t:e.innerHTML=t,this.assignDomEvents()),this.afterRender&&this.afterRender()}return e.withDiv?-1!=t.indexOf('id="'+this._domId+'"')?t:"<div id="+this._domId+">"+t+"</div>":t}}},function(e,t,i){const o=i(0);e.exports=class extends o{constructor(e){super(e),this._data={label:e.label||"",type:e.type||"text"},this._data.errorLabel=e.errorLabel||this._data.label,this._events=[["keydown",this._domId+"_input","onChange"],["change",this._domId+"_input","onChange"],["focus",this._domId+"_input","onFocus"],["blur",this._domId+"_input","onBlur"]]}onFocus(){this.$(".input").classList.remove("error"),this.$(".input").classList.add("inputFocus")}onBlur(){this.$(".input").classList.remove("inputFocus")}val(e){const t=this.$("#"+this._domId+"_input");return t?void 0!==e?(t.value=e,t.value):t.value:null}setLoading(e=!0){this.$(".inputLoading")&&(e?this.$(".inputLoading").classList.add("active"):this.$(".inputLoading").classList.remove("active"))}error(e){this.setLoading(!1);const t=this.$(".input");!1===e?(this._hasError&&(this.emit("noerror"),this._hasError=!1),t&&(this.$("#"+this._domId+"_label").innerHTML=this._data.label,t.classList.remove("error"))):(this._hasError=!0,t&&(this.$("#"+this._domId+"_label").innerHTML=this._data.errorLabel,t.classList.add("error"))),this.checkLabel()}checkLabel(){this.nextTick(()=>{let e=this.val(),t=this.$(".input");t&&(e.length?t.classList.add("withlabel"):t.classList.remove("withlabel"))})}onChange(e){this.checkLabel(),this.$(".input").classList.remove("error")}data(e,t){this._data[e]=t,this.render()}template(){return'\n\t\t\t<div class="input">\n\t\t\t\t<label for="{{domId}}_input"><span id="{{domId}}_label">{{label}}</span></label>\n\t\t\t\t<div class="inputBorder">\n\t\t\t\t\t{{if (options.type==\'password\')}}\n\t\t\t\t\t\t<div class="inputIcon" id="{{domId}}_icon" >\n\t\t\t\t\t\t\t<div class="inputIcon1 inputIconFlip inputIconActive">{{component(options.components.IconEye)}}{{/component}}</div>\n\t\t\t\t\t\t\t<div class="inputIcon2 inputIconFlip">{{component(options.components.IconEye2)}}{{/component}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{#else}}\n\t\t\t\t\t<div class="inputLoading" id="{{domId}}_loading" >\n\t\t\t\t\t\t<div class="cssload-container"><div class="cssload-zenith"></div></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{{/if}}\n\t\t\t\t\t<div class="inputInputC">\n\t\t\t\t\t\t<input id="{{domId}}_input" type="{{type}}" placeholder="{{label}}" autocomplete="autocomplete_of2_r9fg9h439th89gsdf8432fasdbk">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'}}},function(e,t,i){const o=i(0);e.exports=class extends o{constructor(e){super(e),this._flip=e.flip||!1,this._data.icon=e.icon||"up",this._data.flip=this._flip}template(){return'\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" {{if(options.flip)}}class="flip"{{/if}}>\n\t\t\t\t<g fill="none" fill-rule="evenodd">\n\t\t\t\t\t{{if (options.icon==\'check\')}}\n\t\t\t\t    <polygon points="0 0 19 0 19 14 0 14"/>\n\t\t\t\t\t{{#else}}\n\t\t\t\t\t<polygon points="0 0 24 0 24 24 0 24"/>\n\t\t\t\t\t{{/if}}\n\t\t\t\t\t{{if (options.icon==\'up\')}}\n\t\t\t\t\t<path fill="#000" fill-rule="nonzero" d="M12,9.41421356 L18.2928932,15.7071068 C18.6834175,16.0976311 19.3165825,16.0976311 19.7071068,15.7071068 C20.0976311,15.3165825 20.0976311,14.6834175 19.7071068,14.2928932 L12.7071068,7.29289322 C12.3165825,6.90236893 11.6834175,6.90236893 11.2928932,7.29289322 L4.29289322,14.2928932 C3.90236893,14.6834175 3.90236893,15.3165825 4.29289322,15.7071068 C4.68341751,16.0976311 5.31658249,16.0976311 5.70710678,15.7071068 L12,9.41421356 Z"/>\n\t\t\t\t    {{/if}}\n\t\t\t\t\t{{if (options.icon==\'edit\')}}\n\t\t\t\t    <path fill="#000" fill-rule="nonzero" d="M7.70710678,20.7071068 C7.5195704,20.8946432 7.26521649,21 7,21 L4,21 C3.44771525,21 3,20.5522847 3,20 L3,17 C3,16.7347835 3.10535684,16.4804296 3.29289322,16.2928932 L16.5857864,3 C17.3257272,2.26005924 18.5012114,2.22111499 19.2869988,2.88316725 L19.4142136,3 L21,4.58578644 C21.7399408,5.3257272 21.778885,6.50121136 21.1168328,7.28699879 L21,7.41421356 L7.70710678,20.7071068 Z M5,17.4142136 L5,19 L6.58578644,19 L16.5857864,9 L15,7.41421356 L5,17.4142136 Z M18,4.41421356 L16.414,5.99921356 L18,7.58521356 L19.5857864,6 L18,4.41421356 Z"/>\n\t\t\t\t    {{/if}}\n\t\t\t\t\t{{if (options.icon==\'eye\')}}\n\t\t\t\t    <path fill="#000" fill-rule="nonzero" d="M12.0037244,5.5 C17.8510242,5.5 22,10.459316 22,12 C22,13.540684 17.8733706,18.5 12.0037244,18.5 C6.17877095,18.5 2,13.540684 2,12 C2,10.459316 6.20856611,5.5 12.0037244,5.5 Z M12,8 C9.790861,8 8,9.790861 8,12 C8,14.209139 9.790861,16 12,16 C14.209139,16 16,14.209139 16,12 C16,9.790861 14.209139,8 12,8 Z M12,10.5 C12.8284271,10.5 13.5,11.1715729 13.5,12 C13.5,12.8284271 12.8284271,13.5 12,13.5 C11.1715729,13.5 10.5,12.8284271 10.5,12 C10.5,11.1715729 11.1715729,10.5 12,10.5 Z"/>\n\t\t\t\t    {{/if}}\n\t\t\t\t\t{{if (options.icon==\'eye2\')}}\n\t\t\t\t    <path fill="#000" fill-rule="nonzero" d="M3.24742331,4.34149539 C3.58312982,3.95783081 4.14726,3.89243104 4.5589723,4.17068553 L4.65850461,4.24742331 L20.6585046,18.2474233 C21.0741412,18.6111054 21.1162587,19.242868 20.7525767,19.6585046 C20.4168702,20.0421692 19.85274,20.107569 19.4410277,19.8293145 L19.3414954,19.7525767 L16.678014,17.4222694 C15.3119739,18.0692771 13.7335408,18.5 12.0037244,18.5 C6.17877095,18.5 2,13.540684 2,12 C2,11.1350242 3.32652339,9.19250915 5.51558991,7.65500291 L3.34149539,5.75257669 C2.92585876,5.38889464 2.88374125,4.75713202 3.24742331,4.34149539 Z M8,12 C8,14.209139 9.790861,16 12,16 C12.836931,16 13.6138279,15.7429633 14.2560564,15.3035242 L12.1815054,13.4891302 C12.1220062,13.4963068 12.0614344,13.5 12,13.5 C11.1773258,13.5 10.509335,12.8377221 10.500097,12.017236 L8.42584708,10.2021204 C8.15342141,10.7426353 8,11.3534009 8,12 Z M12.0037244,5.5 C17.8510242,5.5 22,10.459316 22,12 C22,12.6358131 21.2972072,13.8538424 20.059148,15.0652638 L15.9670652,11.4843103 C15.7225066,9.58427469 14.1447921,8.10174686 12.2022178,8.00502282 L11.984,8 L9.48427708,5.81332663 C10.2814494,5.61420081 11.1243193,5.5 12.0037244,5.5 Z"/>\n\t\t\t\t    {{/if}}\n\t\t\t\t\t{{if (options.icon==\'photo\')}}\n    \t\t\t\t<path fill="#000" fill-rule="nonzero" d="M19.8833789,16.0067277 L20,16 C20.5128358,16 20.9355072,16.3860402 20.9932723,16.8833789 L21,17 L21,19 L23,19 C23.5128358,19 23.9355072,19.3860402 23.9932723,19.8833789 L24,20 C24,20.5128358 23.6139598,20.9355072 23.1166211,20.9932723 L23,21 L21,21 L21,23 C21,23.5128358 20.6139598,23.9355072 20.1166211,23.9932723 L20,24 C19.4871642,24 19.0644928,23.6139598 19.0067277,23.1166211 L19,23 L19,21 L17,21 C16.4871642,21 16.0644928,20.6139598 16.0067277,20.1166211 L16,20 C16,19.4871642 16.3860402,19.0644928 16.8833789,19.0067277 L17,19 L19,19 L19,17 C19,16.4871642 19.3860402,16.0644928 19.8833789,16.0067277 L20,16 L19.8833789,16.0067277 Z M8.41421356,2 L13.5857864,2 C14.0572824,2 14.5116128,2.16648982 14.8701798,2.46691315 L15,2.58578644 L16.4142136,4 L18,4 C19.5976809,4 20.9036609,5.24891996 20.9949073,6.82372721 L21,7 L21,12 C21,12.5522847 20.5522847,13 20,13 C19.4871642,13 19.0644928,12.6139598 19.0067277,12.1166211 L19,12 L19,7 C19,6.48716416 18.6139598,6.06449284 18.1166211,6.00672773 L18,6 L16.4142136,6 C15.9427176,6 15.4883872,5.83351018 15.1298202,5.53308685 L15,5.41421356 L13.5857864,4 L8.41421356,4 L7,5.41421356 C6.66660199,5.74761157 6.22761579,5.95114561 5.76163928,5.99225938 L5.58578644,6 L4,6 C3.48716416,6 3.06449284,6.38604019 3.00672773,6.88337887 L3,7 L3,18 C3,18.5128358 3.38604019,18.9355072 3.88337887,18.9932723 L4,19 L13,19 C13.5522847,19 14,19.4477153 14,20 C14,20.5128358 13.6139598,20.9355072 13.1166211,20.9932723 L13,21 L4,21 C2.40231912,21 1.09633912,19.75108 1.00509269,18.1762728 L1,18 L1,7 C1,5.40231912 2.24891996,4.09633912 3.82372721,4.00509269 L4,4 L5.58578644,4 L7,2.58578644 C7.33339801,2.25238843 7.77238421,2.04885439 8.23836072,2.00774062 L8.41421356,2 L13.5857864,2 L8.41421356,2 Z M11,7 C13.7614237,7 16,9.23857625 16,12 C16,14.7614237 13.7614237,17 11,17 C8.23857625,17 6,14.7614237 6,12 C6,9.23857625 8.23857625,7 11,7 Z M11,9 C9.34314575,9 8,10.3431458 8,12 C8,13.6568542 9.34314575,15 11,15 C12.6568542,15 14,13.6568542 14,12 C14,10.3431458 12.6568542,9 11,9 Z"/>\n    \t\t\t\t{{/if}}\n\t\t\t\t    {{if (options.icon==\'close\')}}\n\t\t\t\t    <path fill="#000" fill-rule="nonzero" d="M5.20970461,5.38710056 L5.29289322,5.29289322 C5.65337718,4.93240926 6.22060824,4.90467972 6.61289944,5.20970461 L6.70710678,5.29289322 L12,10.585 L17.2928932,5.29289322 C17.6834175,4.90236893 18.3165825,4.90236893 18.7071068,5.29289322 C19.0976311,5.68341751 19.0976311,6.31658249 18.7071068,6.70710678 L13.415,12 L18.7071068,17.2928932 C19.0675907,17.6533772 19.0953203,18.2206082 18.7902954,18.6128994 L18.7071068,18.7071068 C18.3466228,19.0675907 17.7793918,19.0953203 17.3871006,18.7902954 L17.2928932,18.7071068 L12,13.415 L6.70710678,18.7071068 C6.31658249,19.0976311 5.68341751,19.0976311 5.29289322,18.7071068 C4.90236893,18.3165825 4.90236893,17.6834175 5.29289322,17.2928932 L10.585,12 L5.29289322,6.70710678 C4.93240926,6.34662282 4.90467972,5.77939176 5.20970461,5.38710056 L5.29289322,5.29289322 L5.20970461,5.38710056 Z"/>\n\t\t\t\t    {{/if}}\n\t\t\t\t    {{if (options.icon==\'check\')}}\n\t\t\t\t\t<path fill="#000" fill-rule="nonzero" d="M7.96833846,10.0490996 L14.5108251,2.571972 C14.7472185,2.30180819 15.1578642,2.27443181 15.428028,2.51082515 C15.6711754,2.72357915 15.717665,3.07747757 15.5522007,3.34307913 L15.4891749,3.428028 L8.48917485,11.428028 C8.2663359,11.6827011 7.89144111,11.7199091 7.62486888,11.5309823 L7.54038059,11.4596194 L4.54038059,8.45961941 C4.2865398,8.20577862 4.2865398,7.79422138 4.54038059,7.54038059 C4.7688373,7.31192388 5.12504434,7.28907821 5.37905111,7.47184358 L5.45961941,7.54038059 L7.96833846,10.0490996 L14.5108251,2.571972 L7.96833846,10.0490996 Z"/>\n\t\t\t\t    {{/if}}\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t'}}},function(e,t,i){const o=i(9);e.exports=class extends o{constructor(){super(),this.listeners={}}on(e,t){return this.addEventListener(e,t)}addEventListener(e,t){e in this.listeners||(this.listeners[e]=[]);let i=!1;for(let o of this.listeners[e])if(o==t){i=!0;break}i||this.listeners[e].push(t)}removeEventListener(e,t){if(e in this.listeners)for(var i=this.listeners[e],o=0,n=i.length;o<n;o++)if(i[o]===t)return void i.splice(o,1)}clearEventListeners(){this.listeners={}}emit(e){const t=Array.prototype.slice.call(arguments,1);if(!(e in this.listeners))return!0;for(var i=this.listeners[e].slice(),o=0,n=i.length;o<n;o++)try{i[o].apply(this,t||[])}catch(e){console.error(e)}return!0}}},function(e,t){e.exports=[{code:"AD",emoji:"🇦🇩",name:"Andorra",rule:[2,2,2],dialCode:"+376"},{code:"AE",emoji:"🇦🇪",name:"United Arab Emirates",rule:[2,3,4],dialCode:"+971"},{code:"AF",emoji:"🇦🇫",name:"Afghanistan",rule:[3,3,3],dialCode:"+93"},{code:"AG",emoji:"🇦🇬",name:"Antigua and Barbuda",dialCode:"+1268"},{code:"AI",emoji:"🇦🇮",name:"Anguilla",dialCode:"+1 264"},{code:"AL",emoji:"🇦🇱",rule:[2,3,4],name:"Albania",dialCode:"+355"},{code:"AM",emoji:"🇦🇲",rule:[2,3,3],name:"Armenia",dialCode:"+374"},{code:"AO",emoji:"🇦🇴",rule:[3,3,3],name:"Angola",dialCode:"+244"},{code:"AR",emoji:"🇦🇷",name:"Argentina",dialCode:"+54"},{code:"AS",emoji:"🇦🇸",name:"American Samoa",dialCode:"+1 684"},{code:"AT",emoji:"🇦🇹",name:"Austria",dialCode:"+43"},{code:"AU",emoji:"🇦🇺",rule:[3,3,3],name:"Australia",dialCode:"+61"},{code:"AW",emoji:"🇦🇼",name:"Aruba",dialCode:"+297"},{code:"AZ",emoji:"🇦🇿",rule:[2,3,4],name:"Azerbaijan",dialCode:"+994"},{code:"BA",emoji:"🇧🇦",name:"Bosnia and Herzegovina",dialCode:"+387"},{code:"BB",emoji:"🇧🇧",name:"Barbados",dialCode:"+1 246"},{code:"BD",emoji:"🇧🇩",name:"Bangladesh",dialCode:"+880"},{code:"BE",emoji:"🇧🇪",name:"Belgium",rule:[3,2,2,2],dialCode:"+32"},{code:"BF",emoji:"🇧🇫",name:"Burkina Faso",dialCode:"+226"},{code:"BG",emoji:"🇧🇬",name:"Bulgaria",dialCode:"+359"},{code:"BH",emoji:"🇧🇭",name:"Bahrain",dialCode:"+973"},{code:"BI",emoji:"🇧🇮",name:"Burundi",dialCode:"+257"},{code:"BJ",emoji:"🇧🇯",name:"Benin",dialCode:"+229"},{code:"BL",emoji:"🇧🇱",name:"Saint Barthélemy",dialCode:"+590"},{code:"BM",emoji:"🇧🇲",name:"Bermuda",dialCode:"+1 441"},{code:"BN",emoji:"🇧🇳",name:"Brunei Darussalam",dialCode:"+673"},{code:"BO",emoji:"🇧🇴",name:"Bolivia",dialCode:"+591"},{code:"BR",emoji:"🇧🇷",name:"Brazil",rule:[2,5,4],dialCode:"+55"},{code:"BS",emoji:"🇧🇸",name:"Bahamas",dialCode:"+1 242"},{code:"BT",emoji:"🇧🇹",name:"Bhutan",dialCode:"+975"},{code:"BW",emoji:"🇧🇼",name:"Botswana",dialCode:"+267"},{code:"BY",emoji:"🇧🇾",name:"Belarus",rule:[2,3,4],dialCode:"+375"},{code:"BZ",emoji:"🇧🇿",name:"Belize",dialCode:"+501"},{code:"CA",emoji:"🇨🇦",name:"Canada",rule:[3,3,4],canStartWith:[403,587,780,825,236,250,604,672,778,204,431,506,709,782,902,226,249,289,343,365,416,437,519,548,613,647,705,807,905,367,418,438,450,514,579,581,819,873,306,639,867],dialCode:"+1"},{code:"CC",emoji:"🇨🇨",name:"Cocos (Keeling) Islands",dialCode:"+61"},{code:"CD",emoji:"🇨🇩",name:"Congo",dialCode:"+243"},{code:"CF",emoji:"🇨🇫",name:"Central African Republic",dialCode:"+236"},{code:"CG",emoji:"🇨🇬",name:"Congo-Brazzaville",dialCode:"+242"},{code:"CH",emoji:"🇨🇭",name:"Switzerland",rule:[2,3,4],dialCode:"+41"},{code:"CI",emoji:"🇨🇮",name:"Côte D'Ivoire",dialCode:"+225"},{code:"CK",emoji:"🇨🇰",name:"Cook Islands",dialCode:"+682"},{code:"CL",emoji:"🇨🇱",name:"Chile",dialCode:"+56"},{code:"CM",emoji:"🇨🇲",name:"Cameroon",dialCode:"+237"},{code:"CN",emoji:"🇨🇳",name:"China",rule:[3,4,4],dialCode:"+86"},{code:"CO",emoji:"🇨🇴",name:"Colombia",dialCode:"+57"},{code:"CR",emoji:"🇨🇷",name:"Costa Rica",dialCode:"+506"},{code:"CU",emoji:"🇨🇺",name:"Cuba",dialCode:"+53"},{code:"CV",emoji:"🇨🇻",name:"Cape Verde",dialCode:"+238"},{code:"CX",emoji:"🇨🇽",name:"Christmas Island",dialCode:"+61"},{code:"CY",emoji:"🇨🇾",name:"Cyprus",rule:[4,4],dialCode:"+537"},{code:"CZ",emoji:"🇨🇿",name:"Czech Republic",rule:[3,3,3],dialCode:"+420"},{code:"DE",emoji:"🇩🇪",name:"Germany",dialCode:"+49"},{code:"DJ",emoji:"🇩🇯",name:"Djibouti",dialCode:"+253"},{code:"DK",emoji:"🇩🇰",name:"Denmark",rule:[4,4],dialCode:"+45"},{code:"DM",emoji:"🇩🇲",name:"Dominica",dialCode:"+1 767"},{code:"DO",emoji:"🇩🇴",name:"Dominican Republic",dialCode:"+1 849"},{code:"DZ",emoji:"🇩🇿",name:"Algeria",dialCode:"+213"},{code:"EC",emoji:"🇪🇨",name:"Ecuador",dialCode:"+593"},{code:"EE",emoji:"🇪🇪",name:"Estonia",dialCode:"+372"},{code:"EG",emoji:"🇪🇬",name:"Egypt",dialCode:"+20"},{code:"ER",emoji:"🇪🇷",name:"Eritrea",dialCode:"+291"},{code:"ES",emoji:"🇪🇸",name:"Spain",rule:[3,3,3],dialCode:"+34"},{code:"ET",emoji:"🇪🇹",name:"Ethiopia",dialCode:"+251"},{code:"FI",emoji:"🇫🇮",name:"Finland",dialCode:"+358"},{code:"FJ",emoji:"🇫🇯",name:"Fiji",dialCode:"+679"},{code:"FK",emoji:"🇫🇰",name:"Falkland Islands (Malvinas)",dialCode:"+500"},{code:"FM",emoji:"🇫🇲",name:"Micronesia",dialCode:"+691"},{code:"FO",emoji:"🇫🇴",name:"Faroe Islands",dialCode:"+298"},{code:"FR",emoji:"🇫🇷",name:"France",rule:[1,2,2,2,2],dialCode:"+33"},{code:"GA",emoji:"🇬🇦",name:"Gabon",dialCode:"+241"},{code:"GB",emoji:"🇬🇧",name:"United Kingdom",rule:[4,6],alias:["Scotland","England","Wales","Ireland","Great Britain"],dialCode:"+44"},{code:"GD",emoji:"🇬🇩",name:"Grenada",dialCode:"+1 473"},{code:"GE",emoji:"🇬🇪",name:"Georgia",rule:[3,3,3],dialCode:"+995"},{code:"GF",emoji:"🇬🇫",name:"French Guiana",dialCode:"+594"},{code:"GG",emoji:"🇬🇬",name:"Guernsey",dialCode:"+44"},{code:"GH",emoji:"🇬🇭",name:"Ghana",dialCode:"+233"},{code:"GI",emoji:"🇬🇮",name:"Gibraltar",dialCode:"+350"},{code:"GL",emoji:"🇬🇱",name:"Greenland",dialCode:"+299"},{code:"GM",emoji:"🇬🇲",name:"Gambia",dialCode:"+220"},{code:"GN",emoji:"🇬🇳",name:"Guinea",dialCode:"+224"},{code:"GP",emoji:"🇬🇵",name:"Guadeloupe",dialCode:"+590"},{code:"GQ",emoji:"🇬🇶",name:"Equatorial Guinea",dialCode:"+240"},{code:"GR",emoji:"🇬🇷",name:"Greece",rule:[3,3,4],dialCode:"+30"},{code:"GS",emoji:"🇬🇸",name:"South Georgia",dialCode:"+500"},{code:"GT",emoji:"🇬🇹",name:"Guatemala",dialCode:"+502"},{code:"GU",emoji:"🇬🇺",name:"Guam",dialCode:"+1 671"},{code:"GW",emoji:"🇬🇼",name:"Guinea-Bissau",dialCode:"+245"},{code:"GY",emoji:"🇬🇾",name:"Guyana",dialCode:"+595"},{code:"HK",emoji:"🇭🇰",name:"Hong Kong",dialCode:"+852"},{code:"HN",emoji:"🇭🇳",name:"Honduras",dialCode:"+504"},{code:"HR",emoji:"🇭🇷",name:"Croatia",dialCode:"+385"},{code:"HT",emoji:"🇭🇹",name:"Haiti",dialCode:"+509"},{code:"HU",emoji:"🇭🇺",name:"Hungary",rule:[3,3,3],dialCode:"+36"},{code:"ID",emoji:"🇮🇩",name:"Indonesia",dialCode:"+62"},{code:"IE",emoji:"🇮🇪",name:"Ireland",dialCode:"+353"},{code:"IL",emoji:"🇮🇱",name:"Israel",rule:[2,3,4],dialCode:"+972"},{code:"IM",emoji:"🇮🇲",name:"Isle of Man",dialCode:"+44"},{code:"IN",emoji:"🇮🇳",name:"India",rule:[5,5],dialCode:"+91"},{code:"IO",emoji:"🇮🇴",name:"British Indian Ocean Territory",dialCode:"+246"},{code:"IQ",emoji:"🇮🇶",name:"Iraq",rule:[3,3,4],dialCode:"+964"},{code:"IR",emoji:"🇮🇷",name:"Iran",rule:[3,3,4],dialCode:"+98"},{code:"IS",emoji:"🇮🇸",name:"Iceland",dialCode:"+354"},{code:"IT",emoji:"🇮🇹",name:"Italy",dialCode:"+39"},{code:"JE",emoji:"🇯🇪",name:"Jersey",dialCode:"+44"},{code:"JM",emoji:"🇯🇲",name:"Jamaica",dialCode:"+1 876"},{code:"JO",emoji:"🇯🇴",name:"Jordan",dialCode:"+962"},{code:"JP",emoji:"🇯🇵",name:"Japan",rule:[2,4,4],dialCode:"+81"},{code:"KE",emoji:"🇰🇪",name:"Kenya",dialCode:"+254"},{code:"KG",emoji:"🇰🇬",name:"Kyrgyzstan",dialCode:"+996"},{code:"KH",emoji:"🇰🇭",name:"Cambodia",dialCode:"+855"},{code:"KI",emoji:"🇰🇮",name:"Kiribati",dialCode:"+686"},{code:"KM",emoji:"🇰🇲",name:"Comoros",dialCode:"+269"},{code:"KN",emoji:"🇰🇳",name:"Saint Kitts and Nevis",dialCode:"+1 869"},{code:"KP",emoji:"🇰🇵",name:"North Korea",dialCode:"+850"},{code:"KR",emoji:"🇰🇷",name:"South Korea",dialCode:"+82"},{code:"KW",emoji:"🇰🇼",name:"Kuwait",dialCode:"+965"},{code:"KY",emoji:"🇰🇾",name:"Cayman Islands",dialCode:"+ 345"},{code:"KZ",emoji:"🇰🇿",name:"Kazakhstan",rule:[3,3,4],canStartWith:[6,7],dialCode:"+7"},{code:"LA",emoji:"🇱🇦",name:"Lao People's Democratic Republic",dialCode:"+856"},{code:"LB",emoji:"🇱🇧",name:"Lebanon",dialCode:"+961"},{code:"LC",emoji:"🇱🇨",name:"Saint Lucia",dialCode:"+1 758"},{code:"LI",emoji:"🇱🇮",name:"Liechtenstein",dialCode:"+423"},{code:"LK",emoji:"🇱🇰",name:"Sri Lanka",dialCode:"+94"},{code:"LR",emoji:"🇱🇷",name:"Liberia",dialCode:"+231"},{code:"LS",emoji:"🇱🇸",name:"Lesotho",dialCode:"+266"},{code:"LT",emoji:"🇱🇹",name:"Lithuania",rule:[3,5],dialCode:"+370"},{code:"LU",emoji:"🇱🇺",name:"Luxembourg",dialCode:"+352"},{code:"LV",emoji:"🇱🇻",name:"Latvia",rule:[3,5],dialCode:"+371"},{code:"LY",emoji:"🇱🇾",name:"Libya",dialCode:"+218"},{code:"MA",emoji:"🇲🇦",name:"Morocco",dialCode:"+212"},{code:"MC",emoji:"🇲🇨",name:"Monaco",dialCode:"+377"},{code:"MD",emoji:"🇲🇩",name:"Moldova",rule:[2,3,3],dialCode:"+373"},{code:"ME",emoji:"🇲🇪",name:"Montenegro",dialCode:"+382"},{code:"MF",emoji:"🇲🇫",name:"Saint Martin (French Part)",dialCode:"+590"},{code:"MG",emoji:"🇲🇬",name:"Madagascar",dialCode:"+261"},{code:"MH",emoji:"🇲🇭",name:"Marshall Islands",dialCode:"+692"},{code:"MK",emoji:"🇲🇰",name:"Macedonia",dialCode:"+389"},{code:"ML",emoji:"🇲🇱",name:"Mali",dialCode:"+223"},{code:"MM",emoji:"🇲🇲",name:"Myanmar",dialCode:"+95"},{code:"MN",emoji:"🇲🇳",name:"Mongolia",dialCode:"+976"},{code:"MO",emoji:"🇲🇴",name:"Macao",dialCode:"+853"},{code:"MP",emoji:"🇲🇵",name:"Northern Mariana Islands",dialCode:"+1 670"},{code:"MQ",emoji:"🇲🇶",name:"Martinique",dialCode:"+596"},{code:"MR",emoji:"🇲🇷",name:"Mauritania",dialCode:"+222"},{code:"MS",emoji:"🇲🇸",name:"Montserrat",dialCode:"+1664"},{code:"MT",emoji:"🇲🇹",name:"Malta",rule:[2,2,2,2],dialCode:"+356"},{code:"MU",emoji:"🇲🇺",name:"Mauritius",dialCode:"+230"},{code:"MV",emoji:"🇲🇻",name:"Maldives",dialCode:"+960"},{code:"MW",emoji:"🇲🇼",name:"Malawi",dialCode:"+265"},{code:"MX",emoji:"🇲🇽",name:"Mexico",dialCode:"+52"},{code:"MY",emoji:"🇲🇾",name:"Malaysia",dialCode:"+60"},{code:"MZ",emoji:"🇲🇿",name:"Mozambique",dialCode:"+258"},{code:"NA",emoji:"🇳🇦",name:"Namibia",dialCode:"+264"},{code:"NC",emoji:"🇳🇨",name:"New Caledonia",dialCode:"+687"},{code:"NE",emoji:"🇳🇪",name:"Niger",dialCode:"+227"},{code:"NF",emoji:"🇳🇫",name:"Norfolk Island",dialCode:"+672"},{code:"NG",emoji:"🇳🇬",name:"Nigeria",dialCode:"+234"},{code:"NI",emoji:"🇳🇮",name:"Nicaragua",dialCode:"+505"},{code:"NL",emoji:"🇳🇱",name:"Netherlands",rule:[1,2,2,2,2],dialCode:"+31"},{code:"NO",emoji:"🇳🇴",name:"Norway",rule:[4,4],dialCode:"+47"},{code:"NP",emoji:"🇳🇵",name:"Nepal",dialCode:"+977"},{code:"NR",emoji:"🇳🇷",name:"Nauru",dialCode:"+674"},{code:"NU",emoji:"🇳🇺",name:"Niue",dialCode:"+683"},{code:"NZ",emoji:"🇳🇿",name:"New Zealand",dialCode:"+64"},{code:"OM",emoji:"🇴🇲",name:"Oman",dialCode:"+968"},{code:"PA",emoji:"🇵🇦",name:"Panama",dialCode:"+507"},{code:"PE",emoji:"🇵🇪",name:"Peru",dialCode:"+51"},{code:"PF",emoji:"🇵🇫",name:"French Polynesia",dialCode:"+689"},{code:"PG",emoji:"🇵🇬",name:"Papua New Guinea",dialCode:"+675"},{code:"PH",emoji:"🇵🇭",name:"Philippines",dialCode:"+63"},{code:"PK",emoji:"🇵🇰",name:"Pakistan",dialCode:"+92"},{code:"PL",emoji:"🇵🇱",name:"Poland",rule:[3,3,3],dialCode:"+48"},{code:"PM",emoji:"🇵🇲",name:"Saint Pierre and Miquelon",dialCode:"+508"},{code:"PN",emoji:"🇵🇳",name:"Pitcairn",dialCode:"+872"},{code:"PR",emoji:"🇵🇷",name:"Puerto Rico",dialCode:"+1 939"},{code:"PS",emoji:"🇵🇸",name:"Palestinian Territory",dialCode:"+970"},{code:"PT",emoji:"🇵🇹",name:"Portugal",rule:[1,4,4],dialCode:"+351"},{code:"PW",emoji:"🇵🇼",name:"Palau",dialCode:"+680"},{code:"PY",emoji:"🇵🇾",name:"Paraguay",dialCode:"+595"},{code:"QA",emoji:"🇶🇦",name:"Qatar",dialCode:"+974"},{code:"RE",emoji:"🇷🇪",name:"Réunion",dialCode:"+262"},{code:"RO",emoji:"🇷🇴",name:"Romania",rule:[3,3,3],dialCode:"+40"},{code:"RS",emoji:"🇷🇸",name:"Serbia",rule:[2,3,4],dialCode:"+381"},{code:"RU",emoji:"🇷🇺",name:"Russia",rule:[3,3,2,2],dialCode:"+7"},{code:"RW",emoji:"🇷🇼",name:"Rwanda",dialCode:"+250"},{code:"SA",emoji:"🇸🇦",name:"Saudi Arabia",dialCode:"+966"},{code:"SB",emoji:"🇸🇧",name:"Solomon Islands",dialCode:"+677"},{code:"SC",emoji:"🇸🇨",name:"Seychelles",dialCode:"+248"},{code:"SD",emoji:"🇸🇩",name:"Sudan",dialCode:"+249"},{code:"SE",emoji:"🇸🇪",name:"Sweden",rule:[2,3,4],dialCode:"+46"},{code:"SG",emoji:"🇸🇬",name:"Singapore",rule:[4,4],dialCode:"+65"},{code:"SH",emoji:"🇸🇭",name:"Saint Helena, Ascension and Tristan Da Cunha",dialCode:"+290"},{code:"SI",emoji:"🇸🇮",name:"Slovenia",rule:[2,3,3],dialCode:"+386"},{code:"SJ",emoji:"🇸🇯",name:"Svalbard and Jan Mayen",dialCode:"+47"},{code:"SK",emoji:"🇸🇰",name:"Slovakia",rule:[3,3,3],dialCode:"+421"},{code:"SL",emoji:"🇸🇱",name:"Sierra Leone",dialCode:"+232"},{code:"SM",emoji:"🇸🇲",name:"San Marino",dialCode:"+378"},{code:"SN",emoji:"🇸🇳",name:"Senegal",dialCode:"+221"},{code:"SO",emoji:"🇸🇴",name:"Somalia",dialCode:"+252"},{code:"SR",emoji:"🇸🇷",name:"Suriname",dialCode:"+597"},{code:"ST",emoji:"🇸🇹",name:"Sao Tome and Principe",dialCode:"+239"},{code:"SV",emoji:"🇸🇻",name:"El Salvador",dialCode:"+503"},{code:"SY",emoji:"🇸🇾",name:"Syrian Arab Republic",dialCode:"+963"},{code:"SZ",emoji:"🇸🇿",name:"Swaziland",dialCode:"+268"},{code:"TC",emoji:"🇹🇨",name:"Turks and Caicos Islands",dialCode:"+1 649"},{code:"TD",emoji:"🇹🇩",name:"Chad",dialCode:"+235"},{code:"TG",emoji:"🇹🇬",name:"Togo",dialCode:"+228"},{code:"TH",emoji:"🇹🇭",name:"Thailand",rule:[1,4,4],dialCode:"+66"},{code:"TJ",emoji:"🇹🇯",name:"Tajikistan",dialCode:"+992"},{code:"TK",emoji:"🇹🇰",name:"Tokelau",dialCode:"+690"},{code:"TL",emoji:"🇹🇱",name:"Timor-Leste",dialCode:"+670"},{code:"TM",emoji:"🇹🇲",name:"Turkmenistan",dialCode:"+993"},{code:"TN",emoji:"🇹🇳",name:"Tunisia",dialCode:"+216"},{code:"TO",emoji:"🇹🇴",name:"Tonga",dialCode:"+676"},{code:"TR",emoji:"🇹🇷",name:"Turkey",rule:[3,3,4],dialCode:"+90"},{code:"TT",emoji:"🇹🇹",name:"Trinidad and Tobago",dialCode:"+1 868"},{code:"TV",emoji:"🇹🇻",name:"Tuvalu",dialCode:"+688"},{code:"TW",emoji:"🇹🇼",name:"Taiwan",dialCode:"+886"},{code:"TZ",emoji:"🇹🇿",name:"Tanzania",dialCode:"+255"},{code:"UA",emoji:"🇺🇦",name:"Ukraine",rule:[2,3,2,2],dialCode:"+380"},{code:"UG",emoji:"🇺🇬",name:"Uganda",dialCode:"+256"},{code:"US",emoji:"🇺🇸",name:"United States",rule:[3,3,4],alias:["USA"],dialCode:"+1"},{code:"UY",emoji:"🇺🇾",name:"Uruguay",dialCode:"+598"},{code:"UZ",emoji:"🇺🇿",name:"Uzbekistan",rule:[2,7],dialCode:"+998"},{code:"VA",emoji:"🇻🇦",name:"Vatican City",dialCode:"+379"},{code:"VC",emoji:"🇻🇨",name:"Saint Vincent and The Grenadines",dialCode:"+1 784"},{code:"VE",emoji:"🇻🇪",name:"Venezuela",dialCode:"+58"},{code:"VG",emoji:"🇻🇬",name:"Virgin Islands, British",dialCode:"+1 284"},{code:"VI",emoji:"🇻🇮",name:"Virgin Islands, U.S.",dialCode:"+1 340"},{code:"VN",emoji:"🇻🇳",name:"Viet Nam",dialCode:"+84"},{code:"VU",emoji:"🇻🇺",name:"Vanuatu",dialCode:"+678"},{code:"WF",emoji:"🇼🇫",name:"Wallis and Futuna",dialCode:"+681"},{code:"WS",emoji:"🇼🇸",name:"Samoa",dialCode:"+685"},{code:"XK",emoji:"🇽🇰",name:"Kosovo",dialCode:"+383"},{code:"YE",emoji:"🇾🇪",name:"Yemen",dialCode:"+967"},{code:"YT",emoji:"🇾🇹",name:"Mayotte",dialCode:"+262"},{code:"ZA",emoji:"🇿🇦",name:"South Africa",dialCode:"+27"},{code:"ZM",emoji:"🇿🇲",name:"Zambia",dialCode:"+260"},{code:"ZW",emoji:"🇿🇼",name:"Zimbabwe",dialCode:"+263"}]},function(e,t,i){const o=i(0);e.exports=class extends o{constructor(e){super(e),this._data={data:"some",title:e.title||"Next",loadingTItle:e.loadingTitle||"Please wait...",showhidden:!0},this._events=[["click","the_button_"+this._domId,"onClick"]]}setTitle(e){this._data.title=e}setLoading(e=!0){try{e?(this.$(".buttonTitle").innerHTML=this._data.loadingTItle,this.$().classList.add("loadingButton")):(this.$(".buttonTitle").innerHTML=this._data.title,this.$().classList.remove("loadingButton"))}catch(e){}}data(e,t){this._data[e]=t,this.render()}onClick(){this.emit("click")}template(){return'\n\t\t\t<div class="button">\n\t\t\t\t<div class="buttonBorder" id="the_button_{{domId}}">\n\t\t\t\t\t<span class="buttonTitle">{{title}}</span>\n\t\t\t\t\t<div class="cssload-container"><div class="cssload-zenith"></div></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'}}},function(e,t){class i{constructor(e){this._container=e,this._data=null,this._anim=null,this._restoreData=null,this._freed=!1,this._lastTime=null,this._playTillTime=null,this._onEnterFrame=e=>{if(null===this._playTillTime)return;e.currentTime;let t=Math.min(this._lastTime,e.currentTime),i=Math.max(this._lastTime,e.currentTime);(i-t>100&&0===this._playTillTime||null!==this._playTillTime&&t<=this._playTillTime&&i>=this._playTillTime)&&setTimeout(()=>{this._anim.goToAndStop(this._playTillTime,!0),this._lastTime=this._playTillTime,this.rE()},1),this._lastTime=e.currentTime},this._onComplete=()=>{this.rE()}}free(){this._anim.renderer.renderConfig.clearCanvas=!1,this._anim.renderer.destroy(),this._anim.imagePreloader.destroy(),this._anim.trigger("destroy"),this._anim._cbs=null,this._anim.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this._anim.renderer=null,delete this._anim.animationData,delete this._anim.assets,delete this._anim.projectInterface,delete this._anim.renderer,delete this._anim.imagePreloader,this._anim=null,this._freed=!0}destroy(){this._anim&&(this._anim.destroy(),delete this._anim.animationData,delete this._anim.renderer,delete this._anim.assets,delete this._anim,console.log("destroyed"))}aE(){this._anim.addEventListener("enterFrame",this._onEnterFrame),this._anim.addEventListener("complete",this._onComplete)}rE(){this._anim.removeEventListener("enterFrame",this._onEnterFrame),this._anim.removeEventListener("complete",this._onComplete),this._resolvePlayTo&&this._resolvePlayTo()}playTo(e,t,i){return this._promise=new Promise((o,n)=>{this._resolvePlayTo&&this._resolvePlayTo(),i=i||1,this._resolvePlayTo=o,this._anim.loop=!1,this._anim.currentFrame>e?(t?this._anim.setSpeed(-1*i):this._anim.setSpeed(i),this._anim.play()):(this._anim.setSpeed(i),this._anim.play()),this._playTillTime=e,this.aE()}),this._promise}async playOneLoop(){this._anim.goToAndStop(0),await new Promise(e=>{this._anim.addEventListener("complete",e),this._anim.play()})}async playOnce(){let e=!1;if(this._restoreData){const t=await this._restoreData.load();this._container.innerHTML="",await this.setJSON(t,!0),this._freed=!1,e=!0}this._anim.isPaused&&(this._anim.loop=!1,await this.playOneLoop(),e&&this.free())}async setData(e,t){await i._lottieReadyPromise;const o={container:this._container,renderer:"canvas",loop:!0,autoplay:!0,animationData:e,rendererSettings:{preserveAspectRatio:"xMidYMid meet",progressiveLoad:!0,clearCanvas:!0,dpr:2}};t&&(o.loop=!1,o.autoplay=!1),this._anim=lottie.loadAnimation(o),this._anim.frameRate=1}async setJSON(e,t,i,o,n){const s="string"==typeof e?JSON.parse(e):e;await this.setData(s,t),n&&await this.playOneLoop(),i&&(this.free(),this._restoreData=o)}async fetch(e){return new Promise((t,i)=>{var o=new XMLHttpRequest;o.open("GET",e),o.onload=function(e){t(o.responseText)},o.send()})}async fetchJSON(e,t){let i=null;try{i=await this.fetch(e)}catch(e){console.error(e)}return!!i&&(await this.setJSON(i),!0)}}i._lottieReadyResolve=null,i._lottieReadyPromise=new Promise((e,t)=>{i._lottieReadyResolve=e}),window.lottie?i._lottieReadyResolve(window.lottie):window.lottieIsReady=()=>{i._lottieReadyResolve(window.lottie)},e.exports=i},function(e,t,i){const o=i(0),n=i(2),s=i(23);e.exports=class extends o{constructor(e){super(e),this._components={IconAdd:this.newC(n,{icon:"photo"}),EditAvatarPopup:this.newC(s)},this._events=[["click",this.domId+"_edit","selectFile"]],this._componentEvents=[["image","EditAvatarPopup","onImage"]]}selectFile(){this._components.EditAvatarPopup.selectFile()}onImage(e){this.updatePreview(e.dataURL),this.emit("image",e.binary)}updatePreview(e){this.$(".imageCropPreview").style.backgroundImage="url("+e+")"}template(){return"\n\t\t\t<div class=\"imageCropPreview\">\n\t\t\t\t<div id='{{domId}}_edit'>{{component(options.components.IconAdd)}}{{/component}}</div>\n\t\t\t</div>\n\t\t\t{{component(options.components.EditAvatarPopup)}}{{/component}}\n\t\t"}}},function(e,t,i){const o=i(3);e.exports=class extends o{constructor(e={}){super(),this._app=e.app,this._protocol=this._app._protocol,this._mediaManager=null,this._phoneNumber=null,this._phoneCodeHash=null,this._phoneCode=null,this._state="undefined",this._avatarToUpload=null,this._userData={},this.userInfo()}async invoke(e,t={},i){const o=await this._protocol.invoke(e,t,i);return o.success||this.emitRespError(o),o}async logOut(){try{await this._protocol.invoke("auth.logOut")}catch(e){console.log(e)}this.setUserData(null),await this._protocol.logout()}signedIn(){return"online"===this._state}setAvatar(e){this._avatarToUpload=e}setState(e){this._state=e,this.emit("state",this._state)}setUserData(e,t=!1){this._userData=e,t||this._protocol.persistUser(JSON.stringify(e)),e?(this.setState("online"),this.uploadAvatar()):this.setState("undefined")}setPhoneNumber(e){this._phoneNumber=e,this.sendVerification()}emitRespError(e){!e.success&&e.data&&(this.emit("error",""+e.data.type),"AUTH_KEY_UNREGISTERED"==e.data.type&&this.setUserData(null))}async uploadAvatar(){if(!this._avatarToUpload)return!1;if(!this._mediaManager)return console.error("MM is not yet ready"),!1;try{const e=await this._mediaManager.uploadPhoto(this._avatarToUpload,"avatar.png");await this._protocol.invoke("photos.uploadProfilePhoto",{file:e});return await this._mediaManager.flushPeerAvatar({_id:this._userData.id,_type:"user"}),!0}catch(e){console.error(e)}return!1}async sendVerification(){const e=await this._protocol.invoke("auth.sendCode",{phone_number:this._phoneNumber,settings:{_:"codeSettings"}});return e.success?(e.data.phone_registered,this._phoneCodeHash=e.data.phone_code_hash,this.setState("wfcode"),!0):(this.emitRespError(e),!1)}async signUp(e={}){const t={phone_number:this._phoneNumber,phone_code_hash:this._phoneCodeHash,phone_code:this._phoneCode,first_name:e.firstName,last_name:e.lastName},i=await this._protocol.invoke("auth.signUp",t);if(!i.success)return this.emitRespError(i),!1;i.success&&i.data&&i.data.user?this.setUserData(i.data.user):(this.emit("error",""+i.data.type),this.setUserData(null))}async setPassword(e){const t=await this._protocol.invoke("account.getPassword");if(t.data){const i=await this._protocol.generateSRP(t.data,e),o=await this._protocol.invoke("auth.checkPassword",{password:i});o&&o.data&&o.data.user?this.setUserData(o.data.user):this.emitRespError(o)}}async setCode(e){this._phoneCode=e;const t={phone_number:this._phoneNumber,phone_code_hash:this._phoneCodeHash,phone_code:this._phoneCode},i=await this._protocol.invoke("auth.signIn",t);if(i.success)i.data.user?this.setUserData(i.data.user):this.setState("wfreg");else switch(i.data.type){case"PHONE_CODE_INVALID":this.emitRespError(i);break;case"PHONE_NUMBER_UNOCCUPIED":this.setState("wfreg");break;case"SESSION_PASSWORD_NEEDED":this.setState("wf2a");break;default:this.emitRespError(i)}}async userInfo(){let e=await this._protocol.userData();if(e){try{e=JSON.parse(e)}catch(t){e=null}e&&this.setUserData(e,!0)}}}},function(e,t){e.exports=class{constructor(){this._singlePromises={},this._singlePromisesResolvers={}}async sureSingle(e){return this._singlePromises[e]?await this._singlePromises[e]:(this._singlePromises[e]=new Promise(t=>{this._singlePromisesResolvers[e]=t}),null)}fulfilSingle(e,t,i){this._singlePromises[e]&&(this._singlePromisesResolvers[e](t),i&&delete this._singlePromises[e])}}},function(e,t,i){const o=i(11);e.exports=new class{constructor(e){this._config=o}get(e,t=!1){return this._config[e]||t}getSetting(e,t=!1){let i=null;try{i=JSON.parse(localStorage.getItem("settings_"+e))}catch(e){i=t}return i}setSetting(e,t){localStorage.setItem("settings_"+e,JSON.stringify(t))}}},function(e,t){e.exports={debug:!0,appId:1015231,appHash:"a2848ae779266495f3cd3803f81d91e9",defaultDC:2,keepNotDefaultNetworkers:!0,persistState:!0,test:!1,ssl:!0,websockets:!0,poll:!1,pollInterval:2e3,persistMediaCache:!0,persistServiceWorkerCache:!0,maxParallelConnections:3}},function(e,t,i){const o=i(0),n=i(16);e.exports=class extends o{constructor(e){super(e),this._user=e.user,this._domId="auth",this._data={user:this._user},this.userStateChanged(),this._user.on("state",e=>{this.userStateChanged()}),this._preloadingRemoved=!1}rmPreloading(){this._preloadingRemoved||(this._preloadingRemoved=!0,setTimeout(()=>{const e=document.getElementById("preloading");e.classList.add("loaded"),setTimeout(()=>{e.remove()},300)},300))}userStateChanged(e){this.rmPreloading();const t=this._components;this._user.signedIn()?t.SignIn&&(t.SignIn.remove(),t.SignIn=void 0,this.render()):t.SignIn||(t.SignIn=this.newC(n),this.render())}template(){return"\n\t\t\t{{if(options.user.signedIn())}}\n\t\t\t{{#else}}\n\t\t\t\t{{component(options.components.SignIn)}}{{/component}}\n\t\t\t{{/if}}\n\t\t"}}},function(e,t,i){const o=i(14);o.defineHelper("component",(function(e,t,i){let o=null;return e[0]&&e[0].domId&&(o=e[0]),o?o.render({withDiv:!0}):""})),o.defineFilter("nl2br",(function(e){return(""+e).replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1 <br /> $2")})),e.exports=o},function(e,t,i){"use strict";i.r(t),i.d(t,"Compile",(function(){return j})),i.d(t,"F",(function(){return v})),i.d(t,"H",(function(){return o})),i.d(t,"P",(function(){return n})),i.d(t,"Render",(function(){return k})),i.d(t,"__express",(function(){return A})),i.d(t,"autoEscaping",(function(){return L})),i.d(t,"defaultTags",(function(){return c})),i.d(t,"defineFilter",(function(){return S})),i.d(t,"defineHelper",(function(){return T})),i.d(t,"defineNativeHelper",(function(){return P})),i.d(t,"definePartial",(function(){return E})),i.d(t,"load",(function(){return R})),i.d(t,"renderFile",(function(){return x})),i.d(t,"setDefaultFilters",(function(){return w}));var o={},n={},s=/{{ *?(?:(?:([\w$]+) *?\((.*?)\) *?([\w$]*))|(?:([\w$]+) *?\((.*?)\) *?\/)|(?:([\w$@].*?) *?((?:\| *?[\w$]+ *)*))|(?:\/ *?([\w$]+))|(?:# *?([\w$]+))|(?:!\-\-[^]+?\-\-)) *?}}\n?/g,a={s:"{{",e:"}}"},r=/@(?:((?:\.\.\/)+)|([\w$]+):)?/g,l=s,d=a;function c(e){h(e[0],e[1]),s=l,a=d}function h(e,t){var i=e+l.source.slice(d.s.length,0-(d.e.length+3))+t+"\\n?",o=l.lastIndex;d={s:e,e:t},(l=RegExp(i,"g")).lastIndex=o}function m(e,t,i){return e.replace(r,(function(e,o,n){return"hvals"+(o&&o.length?t[i-o.length/3-1].id:n||"")+"."}))}var u={if:{helperStart:function(e){return"if("+e+"){"},helperEnd:function(){return"}"},blocks:{else:function(){return"}else{"}}},each:{helperStart:function(e,t){return"for(var i=0;i<"+e+".length; i++){tR+=(function(hvals){var tR='';var hvals"+t+"=hvals;"},helperEnd:function(e){return"return tR})({this:"+e+"[i],index:i})};"}},foreach:{helperStart:function(e,t){return"for(var key in "+e+"){if(!"+e+".hasOwnProperty(key)) continue;tR+=(function(hvals){var tR='';var hvals"+t+"=hvals;"},helperEnd:function(e){return"return tR})({this:"+e+"[key], key: key})};"}},log:{selfClosing:function(e){return"console.log("+e+");"}},tags:{selfClosing:function(e){return h(e.slice(0,e.indexOf(",")).trim(),e.slice(e.indexOf(",")+1).trim()),""}},js:{selfClosing:function(e){return e+";"}}},p={"&":"&amp;","<":"&lt;",'"':"&quot;","'":"&#39;"};function f(e){return p[e]}var g=/[&<"']/g,_=/[&<"']/,v={e:function(e){var t=String(e);return _.test(t)?t.replace(g,f):t}},C={},b={start:"",end:""};function w(e){if("clear"===e)C={};else for(var t in e)e.hasOwnProperty(t)&&(C[t]=e[t]);!function(){for(var e in b={start:"",end:""},C)C.hasOwnProperty(e)&&C[e]&&(b.start+="Sqrl.F."+e+"(",b.end+=")")}()}var y=!0;function L(e){return y=e}function I(e,t){var i,o=!1,n="",s="";if(t&&""!==t){i=t.split("|");for(var a=0;a<i.length;a++)i[a]=i[a].trim(),""!==i[a]&&("safe"!==i[a]?(n="Sqrl.F."+i[a]+"("+n,s+=")"):o=!0)}return n+=b.start,s+=b.end,!o&&y&&(n+="Sqrl.F.e(",s+=")"),n+e+s}function j(e){var t,i=0,o="var tR='';",r=[],c=-1,h=0,p={};function f(t){i!==t&&(o+="tR+='"+e.slice(i,t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"';")}function g(e,t){var i=m(e,r,c);return"@"===e[0]?I(i,t):I("options."+i,t)}for(d=a,(l=s).lastIndex=0;null!==(t=l.exec(e));)if(f(t.index),i=t[0].length+t.index,t[1]){var _=t[3];""!==_&&null!==_||(_=h,h++);var v=u.hasOwnProperty(t[1]);c+=1;var C=t[2]||"";C=m(C,r,c),v||(C="["+C+"]");var b={name:t[1],id:_,params:C,native:v};r[c]=b,v?(o+=u[t[1]].helperStart(C,_),i=l.lastIndex):o+="tR+=Sqrl.H."+t[1]+"("+C+",function(hvals){var hvals"+_+"=hvals;var tR='';"}else if(t[4]){var w=t[5]||"";if(w=m(w,r,c),"include"===t[4]){var y=e.slice(0,t.index),L=e.slice(t.index+t[0].length),j=w.replace(/'|"/g,""),S=n[j];e=y+S+L,i=l.lastIndex=t.index}else u.hasOwnProperty(t[4])&&u[t[4]].hasOwnProperty("selfClosing")?(o+=u[t[4]].selfClosing(w),i=l.lastIndex):o+="tR+=Sqrl.H."+t[4]+"("+w+");"}else if(t[6])o+="tR+="+g(t[6],t[7])+";";else if(t[8]){var T=r[c];T&&T.name===t[8]?(c-=1,!0===T.native?o+=u[T.name].helperEnd(T.params,T.id):p[T.id]?o+="return tR}});":o+="return tR});"):console.error("Helper beginning & end don't match.")}else if(t[9]){var P=r[c];if(P.native){var k=u[P.name];k.blocks&&k.blocks[t[9]]?(o+=k.blocks[t[9]](P.id),i=l.lastIndex):console.warn("Native helper '%s' doesn't accept that block.",P.name)}else p[P.id]?o+="return tR},"+t[9]+":function(hvals){var hvals"+P.id+"=hvals;var tR='';":(o+="return tR},{"+t[9]+":function(hvals){var hvals"+P.id+"=hvals;var tR='';",p[P.id]=!0)}return f(e.length),o+="return tR",new Function("options","Sqrl",o.replace(/\n/g,"\\n").replace(/\r/g,"\\r"))}function S(e,t){v[e]=t}function T(e,t){o[e]=t}function P(e,t){u[e]=t}function k(e,t){return"function"==typeof e?e(t,{H:o,F:v,P:n}):"string"==typeof e?R(t,e)(t,{H:o,F:v,P:n}):void 0}function E(e,t){n[e]=t}var M={};function R(e,t){var o=e.$file,n=e.$name,s=e.$cache;if(o){var a=i(15);return!1!==s?(M.hasOwnProperty(o)||(M[o]=j(a.readFileSync(o,"utf8"))),M[o]):j(a.readFileSync(o,"utf8"))}return"string"==typeof t?n&&!1!==s?(M.hasOwnProperty(n)||(M[n]=j(t)),M[n]):!0===s?(M.hasOwnProperty(t)||(M[t]=j(t)),M[t]):j(t):n&&!1!==s&&M.hasOwnProperty(n)?M[n]:"No template"}function x(e,t){return t.$file=e,R(t)(t,{H:o,F:v,P:n})}function A(e,t,i){return i(null,x(e,t))}},function(e,t){},function(e,t,i){const o=i(0),n=i(5),s=i(17),a=i(18),r=i(20),l=i(21),d=i(24),c=i(25);e.exports=class extends o{constructor(e){super(e),this._data={state:"undefined"},this._components={Button_undefined:this.newC(n,{title:"Next"}),Button_wfreg:this.newC(n,{title:"Start Messaging"}),Button_wf2a:this.newC(n,{title:"Next"}),CountryInput:this.newC(s),FirstNameInput:this.newC(d,{label:"First Name"}),LastNameInput:this.newC(d,{label:"Last Name"}),PhoneInput:this.newC(a),PasswordInput:this.newC(c),CodeInput:this.newC(r),SignInInfo:this.newC(l,{state:this._data.state})},this._domId="signin",this._events=[["click","somelink","onClick"]],this._componentEvents=[["image","SignInInfo","onBinaryImage"],["click","Button_undefined","onNext"],["click","Button_wfreg","onNext"],["click","Button_wf2a","onNext"],["country","CountryInput","onCountry"],["editPhone","SignInInfo","onEditPhone"],["country","PhoneInput","onCountry"],["phone","PhoneInput","onPhone"],["submit","PhoneInput","onNext"],["code","CodeInput","onCode"],["length","CodeInput","onCodeLength"],["noerror","CodeInput","onCodeErrorClear"],["name","FirstNameInput","onFirstName"],["name","LastNameInput","onLastName"],["visible","PasswordInput","onPwVisible"],["enter","PasswordInput","onNext"]],this._cToHighlightOnE=null,this._onUserState=e=>{this.onUserState(e)},this._onUserError=e=>{this._cToHighlightOnE&&this._cToHighlightOnE.error(e),this._components.SignInInfo.error(!0),this._components.Button_undefined.setLoading(!1),this._components.Button_wfreg.setLoading(!1),this._components.Button_wf2a.setLoading(!1)},this._user.on("state",this._onUserState),this._user.on("error",this._onUserError)}remove(){this._user.removeEventListener("state",this._onUserState),this._user.removeEventListener("error",this._onUserError)}data(e,t){this._data[e]=t}onPwVisible(e){this._components.SignInInfo.visible(e)}onBinaryImage(e){this._user.setAvatar(e)}onUserState(e){this._data.state=e,this._cToHighlightOnE&&this._cToHighlightOnE.error(!1),this._cToHighlightOnE=null,this._components.SignInInfo.setUserState(e),"wfcode"==e&&(this.$("#"+this._components.CodeInput._domId).val=""),this.$$(".inputs").forEach(e=>{e.classList.remove("inputsVisible")}),this.$("#authInputs_"+e)&&this.$("#authInputs_"+e).classList.add("inputsVisible"),"wfcode"==e?this.preFocus("#"+this._components.CodeInput._domId+"_input"):"wf2a"==e?this.preFocus("#"+this._components.PasswordInput._domId+"_input"):"wfreg"==e&&this.preFocus("#"+this._components.FirstNameInput._domId+"_input")}onEditPhone(){this._components.Button_undefined.setLoading(!1),this._user.setState("undefined")}onNext(){if("undefined"==this._data.state)this._components.Button_undefined.setLoading(!0),this._user.setPhoneNumber(this._data.phoneNumber),this._cToHighlightOnE=this._components.PhoneInput;else if("wfreg"==this._data.state){this._components.Button_wfreg.setLoading(!0),this._cToHighlightOnE=this._components.FirstNameInput;let e=this._components.FirstNameInput.val(),t=this._components.LastNameInput.val();this._user.signUp({firstName:e,lastName:t})}else if("wf2a"==this._data.state){this._components.Button_wf2a.setLoading(!0),this._cToHighlightOnE=this._components.PasswordInput;let e=this._components.PasswordInput.val();this._user.setPassword(e)}}onFirstName(){}onLastName(){}onCode(e){this._cToHighlightOnE=this._components.CodeInput,this._user.setCode(e)}onCodeLength(e){this._components.SignInInfo.codeLength(e)}onCodeErrorClear(){this._components.SignInInfo.error(!1)}onPhone(e){this._data.phoneNumber=e.phone||e.raw,this._data.phoneNumberFormatted=e.formatted,this._components.SignInInfo.preloadMonkey(),this._components.SignInInfo.setPhone(e.formatted)}onCountry(e){this._components.PhoneInput.setCountry(e),this._components.CountryInput.setCountry(e),this.preFocus("#"+this._components.PhoneInput._domId+"_input")}template(){return'\n\t\t\t<div class="authForm">\n\t\t\t\t<div class="info">\n\t\t\t\t\t{{component(options.components.SignInInfo)}}{{/component}}\n\t\t\t\t</div>\n\t\t\t\t<div class="inputs {{if(options.state == \'undefined\')}}inputsVisible{{/if}}" id="authInputs_undefined">\n\t\t\t\t\t{{component(options.components.CountryInput)}}{{/component}}\n\t\t\t\t\t{{component(options.components.PhoneInput)}}{{/component}}\n\t\t\t\t\t{{component(options.components.Button_undefined)}}{{/component}}\n\t\t\t\t</div>\n\t\t\t\t<div class="inputs {{if(options.state == \'wfreg\')}}inputsVisible{{/if}}" id="authInputs_wfreg">\n\t\t\t\t\t{{component(options.components.FirstNameInput)}}{{/component}}\n\t\t\t\t\t{{component(options.components.LastNameInput)}}{{/component}}\n\t\t\t\t\t{{component(options.components.Button_wfreg)}}{{/component}}\n\t\t\t\t</div>\n\t\t\t\t<div class="inputs {{if(options.state == \'wf2a\')}}inputsVisible{{/if}}" id="authInputs_wf2a">\n\t\t\t\t\t{{component(options.components.PasswordInput)}}{{/component}}\n\t\t\t\t\t{{component(options.components.Button_wf2a)}}{{/component}}\n\t\t\t\t</div>\n\t\t\t\t<div class="inputs {{if(options.state == \'wfcode\')}}inputsVisible{{/if}}" id="authInputs_wfcode">\n\t\t\t\t\t{{component(options.components.CodeInput)}}{{/component}}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t'}}},function(e,t,i){const o=i(1),n=i(2),s=i(4);class a extends o{constructor(e){e.label="Country",e.type="text",super(e),this._events=[["click","countryInputPopup","onClick"],["click",this._domId+"_icon","onIcon"],["keydown",this._domId+"_input","onKeydown"],["focus",this._domId+"_input","onFocus"],["blur",this._domId+"_input","onBlur"]],this._components={IconUp:this.newC(n),IconDown:this.newC(n,{flip:!0})},this._countryCodes=s,this._data.countryCodes=this._countryCodes,this._hashTablePrepared=!1,this._hashTable={},this._country=null,this.nextTick(()=>{this.guessCountry()})}guessCountry(){this._user._protocol.getCountryCode().then(e=>{if(this.val())return!1;if(e)for(let t of s)t.code==e&&(this.setCountry(t),this.checkLabel(),this.emit("country",t))})}setCountry(e){if(e&&e.name){this.val()&&this._country&&this._country.name==e.name||(this._country=e,this.val(e.name))}}getCountryByCode(e){for(let t of this._countryCodes)if(t.dialCode==e)return t;return null}filterAutocomplete(){if(!this._hashTablePrepared){for(let e of this._countryCodes){let t=e.name.toLowerCase()+e.dialCode+(e.alias?e.alias.join("").toLowerCase():"");this._hashTable[t]=e}this._hashTablePrepared=!0}let e=(""+this.val()).toLowerCase(),t=0;for(const[i,o]of Object.entries(this._hashTable))-1==i.indexOf(e)?document.getElementById(this._domId+"_popup_"+o.name).classList.add("hidden"):(document.getElementById(this._domId+"_popup_"+o.name).classList.remove("hidden"),t++);t?this.showPopup():this.hidePopup()}onKeydown(){this.checkLabel(),this.$(".input").classList.remove("error"),this.nextTick(()=>{this.filterAutocomplete()})}onIcon(){this._popupVisible?this.hidePopup():(this.showPopup(),this.preFocus("#"+this._domId+"_input"))}onBlur(){this._blurTimeout=setTimeout(()=>{this.hidePopup()},100)}onFocus(){this.showPopup()}showPopup(){clearTimeout(this._blurTimeout),this._popupVisible=!0,document.getElementById("countryInputPopup").classList.add("visible"),this.showIcon(1)}hidePopup(){this._popupVisible=!1,document.getElementById("countryInputPopup").classList.remove("visible"),this.showIcon(2)}showIcon(e){let t=2;2==e&&(t=1),this.$(".inputIcon"+e).classList.add("inputIconActive"),this.$(".inputIcon"+t).classList.remove("inputIconActive")}onClick(e){const t=document.getElementById(this.domId),i=event.target.closest(".e");if(i&&t.contains(i)){i.classList.add("active");const e=i.dataset.code,t=this.getCountryByCode(e);this.val(t.name),this.checkLabel(),this.emit("country",t),this.hidePopup()}}template(){return'\n\t\t\t<div class="input">\n\t\t\t\t<label for="{{domId}}_input"><span>{{label}}</span></label>\n\t\t\t\t<div class="inputBorder">\n\t\t\t\t\t<div class="inputIcon" id="{{domId}}_icon" >\n\t\t\t\t\t\t<div class="inputIconFlip inputIcon1">{{component(options.components.IconUp)}}{{/component}}</div>\n\t\t\t\t\t\t<div class="inputIconFlip inputIcon2 inputIconActive">{{component(options.components.IconDown)}}{{/component}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="inputInputC">\n\t\t\t\t\t\t<input type="text" id="{{domId}}_input" autocomplete="autocomplete_of2_r9fg9h439th89gsdf8432fasdbk" placeholder="{{label}}" {{if (options.country && options.country.name)}}value="{{country.name}}"{{/if}}>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="inputPopup" id="countryInputPopup">\n\t\t\t\t\t{{each(options.countryCodes)}}\n\t\t\t\t\t\t<div class="e" data-code="{{@this.dialCode}}" id="{{domId}}_popup_{{@this.name}}"><div class="f">{{@this.emoji}}</div><div class="n">{{@this.name}}</div><div class="c">{{@this.dialCode}}</div></div>\n\t\t\t\t\t{{/each}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'}}e.exports=a,e.exports=a},function(e,t,i){const o=i(1),n=(i(4),i(19));e.exports=class extends o{constructor(e){e.label="Phone Number",e.type="tel",super(e),this._data.errorLabel="Invalid Phone Number",this._country=null,this._countryCode=null,this._phoneNumber=null}error(e){this.setLoading(!1);const t=this.$(".input");!1===e?(this._hasError&&(this.emit("noerror"),this._hasError=!1),t&&(this.$("#"+this._domId+"_label").innerHTML=this._data.label,t.classList.remove("error"))):(this._hasError=!0,t&&(this.$("#"+this._domId+"_label").innerHTML="PHONE_NUMBER_INVALID"==e?this._data.errorLabel:e,t.classList.add("error"))),this.checkLabel()}setCountry(e){if(e&&e.dialCode){const t=e.dialCode.split(" ").join("");t!=this._countryCode&&(this._countryCode=t,this.val(this._countryCode))}this.error(!1)}onChange(e){this.checkLabel(),this.error(!1);let t=null;return e&&(t=e.keyCode,!0===e.shiftKey||35===t||36===t||8===t||9===t||13===t||46===t||t>36&&t<41||(!0===e.ctrlKey||!0===e.metaKey)&&(65===t||67===t||86===t||88===t||90===t))?(13==t&&this.emit("submit"),!0):(this.nextTick(()=>{let e=this.val();e=n.strip(e);let t=n.getCountryByNumber(e);t?this._country&&t.name==this._country.name||(this._country=t,this.emit("country",t)):(this._country=null,this.emit("country",null));let i=n.formatNumber(this._country,e);console.log(i),this.val(i.formatted),i.formatted!=this._phoneNumber&&(this._phoneNumber=i.formatted,this.emit("phone",i))}),!0)}}},function(e,t,i){const o=i(4);e.exports={strip:e=>(0!==(e=""+e).indexOf("+")&&(e="+"+e),e=e.replace(/[^\d+]/g,"").substring(0,15)),getCountryByNumber(e){let t=null,i=0,n=null;for(let s of o){let o=s.dialCode.split(" ").join("");if(0===e.indexOf(o)){let a=null;if(s.canStartWith){let t=e.split(o).join("");a=!1;for(let e of s.canStartWith)0===t.indexOf(""+e)&&(a=!0)}(null===a&&o.length>i||!0===a&&o.length>=i)&&(t=s,i=o.length,n=o)}}return t},formatNumber(e,t){let i=(e?e.dialCode:null)||null,o=t,n=t;if(i){i=i.split(" ").join(""),o="";let n=null;t=t.split(i).join(""),n=e?e.rule:[3,2,2,2,2],n.push(2);for(let e=0,i=0,s=0;e<t.length;e++)(!n||i<n.length)&&(o+=t.charAt(e)),s++,n&&s==n[i]&&(i++,i<n.length&&(o+=" "),s=0);o=i+" "+o.trim()}return{raw:n,formatted:o}}}},function(e,t,i){const o=i(1);e.exports=class extends o{constructor(e){e.label="Code",e.type="number",super(e),this._data.errorLabel="Invalid Code",this._val="",this._lastLength=0}onChange(e){this.error(!1),this.nextTick(()=>{let e=this.val();this._val!=e&&(this._val=e,e&&5==e.length&&(this.setLoading(!0),this.emit("code",e)));let t=e.length;t!=this._lastLength&&(this._lastLength=t,this.emit("length",this._lastLength))})}}},function(e,t,i){const o=i(0),n=i(2),s=i(22),a=i(7);e.exports=class extends o{constructor(e){super(e),this._data={},this._events=[["click",this._domId+"_edit","onEditPhone"]],this._components={IconEdit:this.newC(n,{icon:"edit"}),AvatarPreview:this.newC(a)},this._componentEvents=[["image","AvatarPreview","onBinaryImage"]],this._headers={undefined:"Sign in to Telegram",wfreg:"Your Name",wf2a:"Enter a Password",wfcode:""},this._infoTexts={undefined:"Please confirm your country and<br>enter your phone number.",wfcode:"We have sent you an SMS<br>with the code.",wf2a:"Your account is protected with<br>an additional password.",wfreg:"Enter your name and add<br>a profile picture."},this._data.state=e.state||"undefined",this._data.phoneNumber="",this._data.headers=this._headers,this._data.infoTexts=this._infoTexts,this._tgs=null}onBinaryImage(e){this.emit("image",e)}preloadMonkey(){if(this._monkeyPreloaded)return!0;this.loadTGS(),this._monkeyPreloaded=!0}error(e){"wfcode"==this._data.state&&this._tgs.goToTime(20,!0)}visible(e){"wf2a"==this._data.state&&(e?this._tgs.show("peek",!1,!0).then(()=>{this._tgs.goToTime(14,!0)}):this._tgs.show("peek",!1,!0).then(()=>{this._tgs.goToTime(0,!0)}))}onEditPhone(){this.emit("editPhone")}setPhone(e){this._data.phoneNumber=e,this.$("#auth_phone_number_span").innerHTML=e}async loadTGS(){if(this._tgsLoaded)return!1;if(this._tgsLoading)return new Promise(e=>setTimeout(e,1e3));this._tgsLoading=!0,this._tgs=new s(this.$("#monkey"));const e=await this.loadJSON("assets/data/intro.json");return console.error(e),this._tgs._makaka=e,console.error("tgs loaded"),this._tgsLoaded=!0,!0}setUserState(e){this._data.state=e,"online"!=e&&("undefined"==e?this.$("#logo").classList.add("logo_tg"):this.$("#logo").classList.remove("logo_tg"),"wfcode"==e?(this.$("#logoEditPhone").classList.remove("hidden"),this.$("#logoHeader").classList.add("hidden")):(this.$("#logoEditPhone").classList.add("hidden"),this.$("#logoHeader").classList.remove("hidden")),"wfreg"==e?(this.$("#avatarUpload").classList.remove("hidden"),this.$("#monkey").style.display="none"):this.$("#avatarUpload").classList.add("hidden"),this.$("#logoHeader").innerHTML=this._headers[e],this.$("#logoNote").innerHTML=this._infoTexts[e],"undefined"!=this._data.state&&this.loadTGS().then(()=>{"wf2a"!=this._data.state||"tracking"!=this._tgs._visibleAnim&&"idle"!=this._tgs._visibleAnim||this._tgs.show("close",!1,!0).then(()=>{this._tgs.goToTime(60,!0)}),"wfcode"==this._data.state&&this._tgs.show("idle",!0,!1)}))}codeLength(e){this.loadTGS().then(()=>{this._tgs.show("tracking",!1,!0).then(()=>{e>=5?this._tgs.goToTime(0,!1,3):this._tgs.goToTime(20+10*e,!0)})})}template(){return'\n\t\t\t<div class="logoC">\n\t\t\t\t<div class="logo {{if (options.state == \'undefined\')}}logo_tg{{/if}} active" id="logo">\n\t\t\t\t\t<div id="monkey"></div>\n\t\t\t\t\t<div id="avatarUpload" class="hidden">{{component(options.components.AvatarPreview)}}{{/component}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<h1 id="logoHeader">{{headers[options.state]}}</h1>\n\t\t\t<h1 id="logoEditPhone" class="hidden"><span id="auth_phone_number_span">{{phoneNumber}}</span> <div id="{{domId}}_edit">{{component(options.components.IconEdit)}}{{/component}}</div></h1>\n\n\t\t\t<h5 id="logoNote">{{infoTexts[options.state] | safe}}</h5>\n\t\t'}}},function(e,t,i){const o=i(6);e.exports=class{constructor(e){this._container=e,this._anims={},this._containers={},this._visibleAnim=null}addAnimTag(e){const t=document.createElement("div");return t.id="anim_c_"+e,this._container.appendChild(t),this._containers[e]=t,t}async show(e,t,i){i&&this._visibleAnim&&this._anims[this._visibleAnim]._promise&&await this._anims[this._visibleAnim]._promise,await this.render();let o=!1;for(let i in this._anims)i==e||!e&&!o?(this._containers[i].style.display="block",this._visibleAnim!=i&&(this._anims[i]._anim.goToAndPlay(0,!0),this._anims[i]._anim.loop=t,this._visibleAnim=i),this._anims[i]._anim.loop!=t&&(this._anims[i]._anim.loop=t),o=!0):this._containers[i].style.display="none"}goToTime(e,t,i){this._anims[this._visibleAnim].playTo(e,t,i)}async addTGS(e,t){if(this._anims[e])return;const i=this.addAnimTag(e);this._anims[e]=new o(i),await this._anims[e].setData(t,!0)}async render(){if(this._makaka)for(let e in this._makaka)try{e&&await this.addTGS(e,this._makaka[e])}catch(e){console.error(e)}}}},function(e,t,i){const o=i(0),n=i(2);e.exports=class extends o{constructor(e){super(e),this._data={state:"undefined",canvasDim:400},this._components={IconAdd:this.newC(n,{icon:"photo"}),IconClose:this.newC(n,{icon:"close"}),IconOk:this.newC(n,{icon:"check"})},this._uploadedImageWidth=null,this._uploadedImageHeight=null,this._img=null,this._ctx=null,this._zoom=80,this._offsetX=0,this._offsetY=0,this._data.visible=!1,this._events=[["click",this.domId+"_close","close"],["click",this.domId+"_okButton","hide"]]}attachOutsideListener(){this._blurHandler=()=>{this.close()},this.$("#imageCropPopup").focus(),this.$("#imageCropPopup").addEventListener("blur",this._blurHandler,!0)}show(){this._data.visible||(this._data.visible=!0,this.render(),this.assignDomEvents()),this.$("#imageCropPopup").classList.add("visible"),this.resizeCanvas(),this.addListeners(),setTimeout(()=>{this.attachOutsideListener()},1e3)}close(){this.$("#imageCropPopup").classList.remove("visible"),this.removeAllListeners(),this._data.visible=!1}hide(){this.$("#imageCropPopup").classList.remove("visible"),this.removeAllListeners(),this.resizeCanvas(512),this.renderImg(),this._data.visible=!1,this.emit("image",this.getData())}removeAllListeners(){this.$("#imageCropPopup").removeEventListener("blur",this._blurHandler,!0),this.$("#crop").removeEventListener("mousedown",this._eMousedown,!1),this.$("#crop").removeEventListener("mousemove",this._eMousemove,!1),window.removeEventListener("mouseup",this._eMouseup,!1),this.$("#crop").removeEventListener("touchstart",this._eMousedown,!1),this.$("#crop").removeEventListener("touchmove",this._eMousemove,!1),window.removeEventListener("touchend",this._eMouseup,!1),this.$("#crop").removeEventListener("mousewheel",this._eMousewheel),this.$("#crop").removeEventListener("wheel",this._eMousewheel)}selectFile(){const e=this.$("#"+this.domId+"_fileInput");e.onchange=()=>{if(e.files&&e.files[0]){var t=new FileReader;t.onload=e=>{this.setBGImage(e.target.result)},t.readAsDataURL(e.files[0])}},e.click()}getData(){const e=this._canvas.toDataURL(),t=e.indexOf(";base64,")+";base64,".length,i=e.substring(t),o=window.atob(i),n=o.length,s=new Uint8Array(new ArrayBuffer(n));for(let e=0;e<n;e++)s[e]=o.charCodeAt(e);return{binary:s,dataURL:e}}addListeners(){let e=null,t=null,i=null,o=null,n=!1,s=!1,a=!1,r=null,l=null,d=null,c=0;this._eMousedown=c=>{if(n=!0,c.touches)if(1==c.touches.length)s=c.touches[0].identifier,e=c.touches[0].clientX,t=c.touches[0].clientY;else{s=c.touches[0].identifier,e=c.touches[0].clientX,t=c.touches[0].clientY,a=c.touches[1].identifier,r=c.touches[1].clientX,l=c.touches[1].clientY;let i=Math.abs(e-r),o=Math.abs(t-l);d=Math.sqrt(i*i+o*o)}else e=c.clientX,t=c.clientY;o=this._offsetY,i=this._offsetX,c.preventDefault()},this._eMousemove=a=>{if(!n)return;const r=(new Date).getTime();if(r-c<33)return;c=r;let l=0,h=0;if(a.touches)if(1==a.touches.length)for(let i of a.touches)i.identifier==s&&(l=i.clientX-e,h=i.clientY-t);else{let e=a.touches[0],t=a.touches[1];if(e&&t&&d){let i=Math.abs(e.clientX-t.clientX),o=Math.abs(e.clientY-t.clientY);Math.sqrt(i*i+o*o)>d?(this._zoom*=1.05,this.checkZoomAndRenderImg()):(this._zoom*=.95,this.checkZoomAndRenderImg())}}else l=a.clientX-e,h=a.clientY-t;h&&l&&(this._offsetX=i-l,this._offsetY=o-h,this.renderImg()),a.preventDefault()},this._eMouseup=()=>{n=!1},this._eMousewheel=e=>{e.deltaY>0?this._zoom*=1.05:this._zoom*=.95,this.checkZoomAndRenderImg(),e.preventDefault()},this.$("#crop").addEventListener("mousedown",this._eMousedown,!1),this.$("#crop").addEventListener("mousemove",this._eMousemove,!1),window.addEventListener("mouseup",this._eMouseup,!1),this.$("#crop").addEventListener("touchstart",this._eMousedown,!1),this.$("#crop").addEventListener("touchmove",this._eMousemove,!1),window.addEventListener("touchend",this._eMouseup,!1),this.$("#crop").addEventListener("mousewheel",this._eMousewheel),this.$("#crop").addEventListener("wheel",this._eMousewheel)}checkZoomAndRenderImg(){this._zoom<10&&(this._zoom=10),this._zoom>100&&(this._zoom=100),this.renderImg()}resizeCanvas(e){e||(e=this.$("#crop").offsetWidth),this._data.canvasDim=e,this._canvas=this.$("#my_canvas_id"),this._canvas.style.width=this._data.canvasDim+"px",this._canvas.style.height=this._data.canvasDim+"px"}renderImg(){this._canvas=this.$("#my_canvas_id");var e=this._canvas.getContext("2d");e.canvas.width=this._data.canvasDim,e.canvas.height=this._data.canvasDim;let t=Math.min(this._uploadedImageWidth/2,this._uploadedImageHeight/2);t=t,t*=this._zoom/100,this._cX=this._uploadedImageWidth/2+this._offsetX,this._cY=this._uploadedImageHeight/2+this._offsetY,this._cX+t>this._uploadedImageWidth&&(this._cX=this._uploadedImageWidth-t),this._cY+t>this._uploadedImageHeight&&(this._cY=this._uploadedImageHeight-t),this._cX-t<0&&(this._cX=t),this._cY-t<0&&(this._cY=t);let i=2*t;e.drawImage(this._img,this._cX-t,this._cY-t,i,i,0,0,this._data.canvasDim,this._data.canvasDim)}setBGImage(e){this._zoom=80,this._offsetX=0,this._offsetY=0;var t=new Image;t.onload=()=>{this._img=t,this._uploadedImageWidth=t.width,this._uploadedImageHeight=t.height,this.show(),this.renderImg()},t.src=e}template(){return'\n\t\t\t<input type="file" id="{{domId}}_fileInput" class="hidden">\n\t\t\t{{if (options.visible)}}\n\t\t\t<div class="imageCropPopup" id="imageCropPopup" tabindex="-1">\n\t\t\t\t<div class="cropPopup" id="cropPopup">\n\t\t\t\t\t<div class="cropPopupContainer">\n\t\t\t\t\t\t<div class="popupIcon" id="{{domId}}_close">{{component(options.components.IconClose)}}{{/component}}</div>\n\t\t\t\t\t\t<h3 id="testh">Drag to Reposition</h3>\n\t\t\t\t\t\t<div id="crop">\n\t\t\t\t\t\t\t<div id="cropOverlay"></div>\n\t\t\t\t\t\t\t<canvas id="my_canvas_id"></canvas>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="okButton" id="{{domId}}_okButton">{{component(options.components.IconOk)}}{{/component}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{{/if}}\n\t\t'}}},function(e,t,i){const o=i(1);e.exports=class extends o{constructor(e){e.label=e.label,e.type="text",super(e),this._val=""}afterRender(){this.preFocus("#"+this._domId+"_input")}onChange(e){this.checkLabel(),this.$(".input").classList.remove("error")}}},function(e,t,i){const o=i(1),n=i(2);e.exports=class extends o{constructor(e){e.label="Password",e.type="password",super(e),this._data.errorLabel="Invalid Password",this._components={IconEye:this.newC(n,{icon:"eye"}),IconEye2:this.newC(n,{icon:"eye2"})},this._events=[["click",this._domId+"_icon","onIcon"],["keydown",this._domId+"_input","onChange"],["change",this._domId+"_input","onChange"]],this._val="",this._passwordVisible=!1}onIcon(){this._passwordVisible?(this.$("#"+this._domId+"_input").type="password",this.$(".inputIcon1").classList.add("inputIconActive"),this.$(".inputIcon2").classList.remove("inputIconActive"),this._passwordVisible=!1,this.emit("visible",!1)):(this.$("#"+this._domId+"_input").type="text",this.$(".inputIcon2").classList.add("inputIconActive"),this.$(".inputIcon1").classList.remove("inputIconActive"),this._passwordVisible=!0,this.emit("visible",!0))}onChange(e){this.checkLabel(),this.$(".input").classList.remove("error"),e.keyCode&&13==e.keyCode&&this.emit("enter")}}},function(e,t,i){const o=i(0);class n extends o{constructor(e){super(e),this._events=[["click",this._domId,"onClick"]],this._data.selected=e.selected||!1}set(e){this._data.selected=e,this.applyStyles(),this.emit("selected",this._data.selected)}off(){this.set(!1)}on(){this.set(!0)}toggle(){this._data.selected=!this._data.selected,this.applyStyles(),this.emit("selected",this._data.selected)}applyStyles(){this._data.selected?(this.$(".checkboxSelected").classList.add("active"),this.$(".checkboxEmpty").classList.remove("active")):(this.$(".checkboxSelected").classList.remove("active"),this.$(".checkboxEmpty").classList.add("active"))}onClick(){this.toggle()}}n.template='\n\t<div class="checkbox" id="{{domId}}">\n\t\t<div class="checkboxSelected {{if (options.selected)}}active{{/if}}">\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n\t\t\t\t<g fill="none" fill-rule="evenodd">\n\t\t\t\t\t<polygon points="0 0 24 0 24 24 0 24"/>\n\t\t\t\t\t<path fill="#000" fill-rule="nonzero" d="M18,3 C19.6568542,3 21,4.34314575 21,6 L21,18 C21,19.6568542 19.6568542,21 18,21 L6,21 C4.34314575,21 3,19.6568542 3,18 L3,6 C3,4.34314575 4.34314575,3 6,3 L18,3 Z M17.2928932,7.29289322 L10,14.5857864 L6.70710678,11.2928932 C6.31658249,10.9023689 5.68341751,10.9023689 5.29289322,11.2928932 C4.90236893,11.6834175 4.90236893,12.3165825 5.29289322,12.7071068 L9.29289322,16.7071068 C9.68341751,17.0976311 10.3165825,17.0976311 10.7071068,16.7071068 L18.7071068,8.70710678 C19.0976311,8.31658249 19.0976311,7.68341751 18.7071068,7.29289322 C18.3165825,6.90236893 17.6834175,6.90236893 17.2928932,7.29289322 Z"/>\n    \t\t\t</g>\n\t\t\t</svg>\n\t\t</div>\n\t\t<div class="checkboxEmpty {{if (!options.selected)}}active{{/if}}">\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n\t\t\t\t<g fill="none" fill-rule="evenodd">\n\t\t\t\t\t<polygon points="0 0 24 0 24 24 0 24"/>\n\t\t\t\t\t<path fill="#000" fill-rule="nonzero" d="M6,3 L18,3 C19.6568542,3 21,4.34314575 21,6 L21,18 C21,19.6568542 19.6568542,21 18,21 L6,21 C4.34314575,21 3,19.6568542 3,18 L3,6 C3,4.34314575 4.34314575,3 6,3 Z M6,5 C5.44771525,5 5,5.44771525 5,6 L5,18 C5,18.5522847 5.44771525,19 6,19 L18,19 C18.5522847,19 19,18.5522847 19,18 L19,6 C19,5.44771525 18.5522847,5 18,5 L6,5 Z"/>\n    \t\t\t</g>\n\t\t\t</svg>\n\t\t</div>\n\t</div>\n\t\t',e.exports=n},function(e,t){e.exports=class{async get(e){return localStorage.getItem(e)}async set(e,t){localStorage.setItem(e,t)}async remove(e){for(let t of e)localStorage.removeItem(t)}async clear(){localStorage.clear()}}},function(e,t,i){const o=i(3),n=i(29);e.exports=class extends o{constructor(e){super(),this._app=e.app,this._initialized=!1,this._isInitializing=!1,this._initializationPromiseResolver=null,this._initializationPromise=new Promise((e,t)=>{this._initializationPromiseResolver=e}),this._workerPromises={},this._workerPromisesResolvers={},this._scope=this.getScope(),this._sw=null,this._docMessages={},this.FileCacher=n,this.initialize()}async initialize(){this._app._config.get("persistMediaCache")||await n.delete();let e=null;if(navigator.serviceWorker){if(navigator.serviceWorker.controller&&(e=navigator.serviceWorker.controller),!e){let t=await navigator.serviceWorker.getRegistrations();t[0]?e=t[0].active:console.warn(t)}}else alert("https required");e&&e.postMessage({command:"clean"}),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js",{scope:this._scope}).then(e=>{this._sw=e.active,console.log(e),console.log("Service Worker Registered"),navigator.serviceWorker.addEventListener("message",e=>{e&&e.data&&e.data.documentId&&(this._docMessages[e.data.documentId]=e.data)},!1)},(function(e){console.log("Service worker registration failed:",e)}))}async fulfillSWStream(e,t,i){let o=this._sw;if(!o&&navigator.serviceWorker&&navigator.serviceWorker.controller&&(o=navigator.serviceWorker.controller),!o){let e=await navigator.serviceWorker.getRegistrations();e[0]?o=e[0].active:console.warn(e)}o&&(console.error({command:"fulfill",documentId:e,partN:t,ab:i}),o.postMessage({command:"fulfill",documentId:e,partN:t,ab:i}))}getScope(){let e=window.location.pathname,t=e.split("/");return t[t.length-1].indexOf(".")&&(t[t.length-1]=""),e=t.join("/"),e}normalizeURL(e){return e=e.split("./").join("/"),(e=this._scope+e).split("//").join("/")}async removeCache(e){await n.open();let t=this.normalizeURL(e);await n.deleteUrl(t)}async getCachedResources(e){await n.open();const t=[],i={};for(let o=0;o<e.length;o++)if(!e[o].blobURL&&null!==e[o].url){let n=this.normalizeURL(e[o].url);t.push(n),i[n]||(i[n]=[]),i[n].push(e[o])}const o=await n.matchAll(t);for(let e of o)if(e){if(i[e[0]]){let t=null,o=null,n=null;e[1]&&(-1!=e[0].indexOf(".json")?t=await e[1].text():(o=await e[1].blob(),n=URL.createObjectURL(o)));for(let s of i[e[0]])s.json=t,s.blobURL=n,s.blob=o,s.cached=!0}}else;return e}async putToCacheAndForget(e){await n.open();let t=this.normalizeURL(e.url);const i=e.binary;let o="image/jpeg";-1!=t.indexOf(".png")?o="image/png":-1!=t.indexOf(".json")?o="application/json":-1!=t.indexOf(".dat")&&(o="application/octet-stream");const s=new Response(i,{status:200,statusText:"OK",headers:{"Content-Type":o,"Content-Length":i.byteLength||i.size,"Cache-Control":"public, max-age: 86400, immutable"}});let a=await s.clone().blob();return await n.put(t,s,e.lazy),a}async putToCacheAndReturnBlob(e){await n.open();let t=this.normalizeURL(e.url);const i=e.binary;let o="image/jpeg";-1!=t.indexOf(".png")?o="image/png":-1!=t.indexOf(".json")?o="application/json":-1!=t.indexOf(".dat")&&(o="application/octet-stream");const s=new Response(i,{status:200,statusText:"OK",headers:{"Content-Type":o,"Content-Length":i.byteLength||i.size,"Cache-Control":"public, max-age: 86400, immutable"}});let a=await s.clone().blob();return await n.put(t,s),a}async loadRaw(e){await this.initializeWorker();return(await this.callWorker("loadRaw",e)).data}async loadImageAndReturnBlobURL(e){await this.initializeWorker();return(await this.callWorker("loadImageAndReturnBlobURL",e)).data}async getCountryCode(){await this.initializeWorker();return(await this.callWorker("getCountryCode",{})).data}async loadFileAndInflate(e){await this.initializeWorker();return(await this.callWorker("loadFileAndInflate",e)).data}async matchGetBlob(e){await n.open();let t=await n.match(e);if(t){return await t.blob()}}async invokeAndCache(e,t={},i){await n.open();let o="/tg/ch_"+e+"_"+JSON.stringify(t).replace(/[\W_]+/g,"_")+".json";console.error("invokeAndCache | "+o);let s=await n.match(o);if(s){let e=await s.json();if(console.error("invokeAndCache | ",e,(new Date).getTime()),!e.max||e.max>(new Date).getTime())return console.error("invokeAndCache | matched"),e.data}const a=await this.invoke(e,t,i);if(a&&a.success){const e="application/json";a.max=(new Date).getTime()+6e4*i.max;const t=JSON.stringify(a),s=new Response(t,{status:200,statusText:"OK",headers:{"Content-Type":e,"Content-Length":t.length,"Cache-Control":"public, max-age: 86400, immutable"}});n.put(o,s)}return a.data}async invoke(e,t={},i){return console.error(i),await this.initializeWorker(),await this.callWorker("invoke",{method:e,params:t,options:i})}async currentDC(){await this.initializeWorker();return(await this.callWorker("currentDC",{})).data}async activeNetworkers(){await this.initializeWorker();return(await this.callWorker("activeNetworkers",{})).data}async generateSRP(e,t){await this.initializeWorker();return(await this.callWorker("generateSRP",{accountPassword:e,password:t})).data}async md5(e){await this.initializeWorker();return(await this.callWorker("md5",e)).data}async inflate(e){await this.initializeWorker();return(await this.callWorker("inflate",e)).data}async initializeWorker(){if(this._initialized)return!0;if(this._isInitializing)return await this._initializationPromise;this._isInitializing=!0,this._worker=new Worker("mtworker.js"),this._worker.onmessage=e=>{e.data&&e.data.id&&(this._workerPromisesResolvers[e.data.id]?(this._workerPromisesResolvers[e.data.id](e.data),delete this._workerPromisesResolvers[e.data.id],delete this._workerPromises[e.data.id]):"state"==e.data.id?localStorage.setItem("apiState",e.data.state):"update"==e.data.id&&this.emit("update",e.data.update))};const e={initialState:localStorage.getItem("apiState"),scope:this._scope,cacheName:this._cacheName,test:this._app._config.get("test"),ssl:this._app._config.get("ssl"),persistState:this._app._config.get("persistState"),appId:this._app._config.get("appId"),appHash:this._app._config.get("appHash"),websockets:this._app._config.get("websockets"),defaultDC:this._app._config.get("defaultDC"),keepNotDefaultNetworkers:this._app._config.get("keepNotDefaultNetworkers")};let t=await this.callWorker("initialize",e);t&&this._initializationPromiseResolver(t)}async callWorker(e,t){const i=(""+Math.random()).split(".").join(""),o={id:i,method:e,options:t};return this._workerPromises[i]=new Promise((e,t)=>{this._workerPromisesResolvers[i]=e}),this._worker.postMessage(o),t.timeout?await Promise.race([new Promise((function(e){setTimeout(()=>{e({data:null})},t.timeout)})),this._workerPromises[i]]):await this._workerPromises[i]}userData(){return localStorage.getItem("apiUserData")}persistUser(e){e?localStorage.setItem("apiUserData",e):localStorage.removeItem("apiUserData")}logout(){localStorage.removeItem("apiUserData"),localStorage.removeItem("apiState"),localStorage.removeItem("dialogs"),location.reload()}}},function(e,t){e.exports=new class{constructor(e){this._db=null,this._cacheName="lovegram-0.0.1"}async open(){this._db||(this._db=await this.initDB())}initDB(){return new Promise((e,t)=>{let i=indexedDB.open(this._cacheName,4);i.onerror=function(){t()},i.onupgradeneeded=()=>{const e=i.result;try{e.createObjectStore("files",{keyPath:"url"})}catch(e){}},i.onsuccess=function(){const t=i.result;e(t)}})}store(){return this._db.transaction(["files"],"readwrite").objectStore("files")}async matchFromStore(e,t,i){let o="/tg/"+t.split("/tg/")[1];return new Promise((n,s)=>{const a=e.get(o);a.onerror=function(){n(void 0)},a.onsuccess=function(e){const o=a.result;if(!o)return void n(void 0);let s=new Response(o.data,{status:200});i&&(s=[t,s]),n(s)}})}async matchAll(e){let t=Array.from(new Set(e));const i=this.store(),o=[];for(let e of t)o.push(this.matchFromStore(i,e,!0));return Promise.all(o)}async match(e){const t=this.store();return await this.matchFromStore(t,e)}async deleteUrl(e){let t="/tg/"+e.split("/tg/")[1];const i=this.store();await new Promise((e,o)=>{const n=i.delete(t);n.onerror=function(){e(void 0)},n.onsuccess=function(t){e(!0)}})}delete(){return new Promise((e,t)=>{this.open().then(()=>{this._db.transaction(["files"],"readwrite").objectStore("files").clear().onsuccess=function(t){e()}})})}put(e,t,i){let o="/tg/"+e.split("/tg/")[1];return new Promise((e,n)=>{t.blob().then(t=>{const n=this._db.transaction(["files"],"readwrite"),s=n.objectStore("files"),a={url:o,data:t};try{n.onerror=function(t){e(!0)},n.oncomplete=function(t){e(!0)};s[i?"put":"add"](a).onerror=function(t){e(!0)}}catch(e){console.error(e)}})})}}},function(e,t,i){"use strict";i.r(t);var o=i(8),n=i.n(o);function s(e){return getComputedStyle(e)}function a(e,t){for(var i in t){var o=t[i];"number"==typeof o&&(o+="px"),e.style[i]=o}return e}function r(e){var t=document.createElement("div");return t.className=e,t}var l="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function d(e,t){if(!l)throw new Error("No element matching method supported");return l.call(e,t)}function c(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function h(e,t){return Array.prototype.filter.call(e.children,(function(e){return d(e,t)}))}var m="ps",u="ps__rtl",p={thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},f={focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}},g={x:null,y:null};function _(e,t){var i=e.element.classList,o=f.scrolling(t);i.contains(o)?clearTimeout(g[t]):i.add(o)}function v(e,t){g[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(f.scrolling(t))}),e.settings.scrollingThreshold)}var C=function(e){this.element=e,this.handlers={}},b={isEmpty:{configurable:!0}};C.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},C.prototype.unbind=function(e,t){var i=this;this.handlers[e]=this.handlers[e].filter((function(o){return!(!t||o===t)||(i.element.removeEventListener(e,o,!1),!1)}))},C.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},b.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(C.prototype,b);var w=function(){this.eventElements=[]};function y(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function L(e,t,i,o,n){var s;if(void 0===o&&(o=!0),void 0===n&&(n=!1),"top"===t)s=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");s=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,i,o,n){var s=i[0],a=i[1],r=i[2],l=i[3],d=i[4],c=i[5];void 0===o&&(o=!0);void 0===n&&(n=!1);var h=e.element;e.reach[l]=null,h[r]<1&&(e.reach[l]="start");h[r]>e[s]-e[a]-1&&(e.reach[l]="end");t&&(h.dispatchEvent(y("ps-scroll-"+l)),t<0?h.dispatchEvent(y("ps-scroll-"+d)):t>0&&h.dispatchEvent(y("ps-scroll-"+c)),o&&function(e,t){_(e,t),v(e,t)}(e,l));e.reach[l]&&(t||n)&&h.dispatchEvent(y("ps-"+l+"-reach-"+e.reach[l]))}(e,i,s,o,n)}function I(e){return parseInt(e,10)||0}w.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new C(e),this.eventElements.push(t)),t},w.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},w.prototype.unbind=function(e,t,i){var o=this.eventElement(e);o.unbind(t,i),o.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(o),1)},w.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},w.prototype.once=function(e,t,i){var o=this.eventElement(e),n=function(e){o.unbind(t,n),i(e)};o.bind(t,n)};var j={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function S(e){var t=e.element,i=Math.floor(t.scrollTop),o=t.getBoundingClientRect();e.containerWidth=Math.ceil(o.width),e.containerHeight=Math.ceil(o.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(h(t,p.rail("x")).forEach((function(e){return c(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(h(t,p.rail("y")).forEach((function(e){return c(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=T(e,I(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=I((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=T(e,I(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=I(i*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var i={width:t.railXWidth},o=Math.floor(e.scrollTop);t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft;t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-o:i.top=t.scrollbarXTop+o;a(t.scrollbarXRail,i);var n={top:o,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft;a(t.scrollbarYRail,n),a(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),a(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(f.active("x")):(t.classList.remove(f.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(f.active("y")):(t.classList.remove(f.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function T(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function P(e,t){var i=t[0],o=t[1],n=t[2],s=t[3],a=t[4],r=t[5],l=t[6],d=t[7],c=t[8],h=e.element,m=null,u=null,p=null;function g(t){t.touches&&t.touches[0]&&(t[n]=t.touches[0].pageY),h[l]=m+p*(t[n]-u),_(e,d),S(e),t.stopPropagation(),t.preventDefault()}function C(){v(e,d),e[c].classList.remove(f.clicking),e.event.unbind(e.ownerDocument,"mousemove",g)}function b(t,a){m=h[l],a&&t.touches&&(t[n]=t.touches[0].pageY),u=t[n],p=(e[o]-e[i])/(e[s]-e[r]),a?e.event.bind(e.ownerDocument,"touchmove",g):(e.event.bind(e.ownerDocument,"mousemove",g),e.event.once(e.ownerDocument,"mouseup",C),t.preventDefault()),e[c].classList.add(f.clicking),t.stopPropagation()}e.event.bind(e[a],"mousedown",(function(e){b(e)})),e.event.bind(e[a],"touchstart",(function(e){b(e,!0)}))}var k={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var i=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=i*e.containerHeight,S(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var i=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=i*e.containerWidth,S(e),t.stopPropagation()}))},"drag-thumb":function(e){P(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),P(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&(d(t,":hover")||d(e.scrollbarX,":focus")||d(e.scrollbarY,":focus"))){var o,n=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(n){if("IFRAME"===n.tagName)n=n.contentDocument.activeElement;else for(;n.shadowRoot;)n=n.shadowRoot.activeElement;if(d(o=n,"input,[contenteditable]")||d(o,"select,[contenteditable]")||d(o,"textarea,[contenteditable]")||d(o,"button,[contenteditable]"))return}var s=0,a=0;switch(i.which){case 37:s=i.metaKey?-e.contentWidth:i.altKey?-e.containerWidth:-30;break;case 38:a=i.metaKey?e.contentHeight:i.altKey?e.containerHeight:30;break;case 39:s=i.metaKey?e.contentWidth:i.altKey?e.containerWidth:30;break;case 40:a=i.metaKey?-e.contentHeight:i.altKey?-e.containerHeight:-30;break;case 32:a=i.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:a=e.containerHeight;break;case 34:a=-e.containerHeight;break;case 36:a=e.contentHeight;break;case 35:a=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==s||e.settings.suppressScrollY&&0!==a||(t.scrollTop-=a,t.scrollLeft+=s,S(e),function(i,o){var n=Math.floor(t.scrollTop);if(0===i){if(!e.scrollbarYActive)return!1;if(0===n&&o>0||n>=e.contentHeight-e.containerHeight&&o<0)return!e.settings.wheelPropagation}var s=t.scrollLeft;if(0===o){if(!e.scrollbarXActive)return!1;if(0===s&&i<0||s>=e.contentWidth-e.containerWidth&&i>0)return!e.settings.wheelPropagation}return!0}(s,a)&&i.preventDefault())}}))},wheel:function(e){var t=e.element;function i(i){var o=function(e){var t=e.deltaX,i=-1*e.deltaY;return void 0!==t&&void 0!==i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!=t&&i!=i&&(t=0,i=e.wheelDelta),e.shiftKey?[-i,-t]:[t,i]}(i),n=o[0],a=o[1];if(!function(e,i,o){if(!j.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var n=e;n&&n!==t;){if(n.classList.contains(p.consuming))return!0;var a=s(n);if(o&&a.overflowY.match(/(scroll|auto)/)){var r=n.scrollHeight-n.clientHeight;if(r>0&&(n.scrollTop>0&&o<0||n.scrollTop<r&&o>0))return!0}if(i&&a.overflowX.match(/(scroll|auto)/)){var l=n.scrollWidth-n.clientWidth;if(l>0&&(n.scrollLeft>0&&i<0||n.scrollLeft<l&&i>0))return!0}n=n.parentNode}return!1}(i.target,n,a)){var r=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(a?t.scrollTop-=a*e.settings.wheelSpeed:t.scrollTop+=n*e.settings.wheelSpeed,r=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(n?t.scrollLeft+=n*e.settings.wheelSpeed:t.scrollLeft-=a*e.settings.wheelSpeed,r=!0):(t.scrollTop-=a*e.settings.wheelSpeed,t.scrollLeft+=n*e.settings.wheelSpeed),S(e),(r=r||function(i,o){var n=Math.floor(t.scrollTop),s=0===t.scrollTop,a=n+t.offsetHeight===t.scrollHeight,r=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(o)>Math.abs(i)?s||a:r||l)||!e.settings.wheelPropagation}(n,a))&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",i):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",i)},touch:function(e){if(j.supportsTouch||j.supportsIePointer){var t=e.element,i={},o=0,n={},a=null;j.supportsTouch?(e.event.bind(t,"touchstart",c),e.event.bind(t,"touchmove",h),e.event.bind(t,"touchend",m)):j.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",c),e.event.bind(t,"pointermove",h),e.event.bind(t,"pointerup",m)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",c),e.event.bind(t,"MSPointerMove",h),e.event.bind(t,"MSPointerUp",m)))}function r(i,o){t.scrollTop-=o,t.scrollLeft-=i,S(e)}function l(e){return e.targetTouches?e.targetTouches[0]:e}function d(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function c(e){if(d(e)){var t=l(e);i.pageX=t.pageX,i.pageY=t.pageY,o=(new Date).getTime(),null!==a&&clearInterval(a)}}function h(a){if(d(a)){var c=l(a),h={pageX:c.pageX,pageY:c.pageY},m=h.pageX-i.pageX,u=h.pageY-i.pageY;if(function(e,i,o){if(!t.contains(e))return!1;for(var n=e;n&&n!==t;){if(n.classList.contains(p.consuming))return!0;var a=s(n);if(o&&a.overflowY.match(/(scroll|auto)/)){var r=n.scrollHeight-n.clientHeight;if(r>0&&(n.scrollTop>0&&o<0||n.scrollTop<r&&o>0))return!0}if(i&&a.overflowX.match(/(scroll|auto)/)){var l=n.scrollWidth-n.clientWidth;if(l>0&&(n.scrollLeft>0&&i<0||n.scrollLeft<l&&i>0))return!0}n=n.parentNode}return!1}(a.target,m,u))return;r(m,u),i=h;var f=(new Date).getTime(),g=f-o;g>0&&(n.x=m/g,n.y=u/g,o=f),function(i,o){var n=Math.floor(t.scrollTop),s=t.scrollLeft,a=Math.abs(i),r=Math.abs(o);if(r>a){if(o<0&&n===e.contentHeight-e.containerHeight||o>0&&0===n)return 0===window.scrollY&&o>0&&j.isChrome}else if(a>r&&(i<0&&s===e.contentWidth-e.containerWidth||i>0&&0===s))return!0;return!0}(m,u)&&a.preventDefault()}}function m(){e.settings.swipeEasing&&(clearInterval(a),a=setInterval((function(){e.isInitialized?clearInterval(a):n.x||n.y?Math.abs(n.x)<.01&&Math.abs(n.y)<.01?clearInterval(a):(r(30*n.x,30*n.y),n.x*=.8,n.y*=.8):clearInterval(a)}),10))}}},E=function(e,t){var i=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var o in this.element=e,e.classList.add(m),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[o]=t[o];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var n,l,d=function(){return e.classList.add(f.focus)},c=function(){return e.classList.remove(f.focus)};this.isRtl="rtl"===s(e).direction,!0===this.isRtl&&e.classList.add(u),this.isNegativeScroll=(l=e.scrollLeft,e.scrollLeft=-1,n=e.scrollLeft<0,e.scrollLeft=l,n),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new w,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=r(p.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=r(p.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",d),this.event.bind(this.scrollbarX,"blur",c),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var h=s(this.scrollbarXRail);this.scrollbarXBottom=parseInt(h.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=I(h.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=I(h.borderLeftWidth)+I(h.borderRightWidth),a(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=I(h.marginLeft)+I(h.marginRight),a(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=r(p.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=r(p.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",d),this.event.bind(this.scrollbarY,"blur",c),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var g=s(this.scrollbarYRail);this.scrollbarYRight=parseInt(g.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=I(g.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=s(e);return I(t.width)+I(t.paddingLeft)+I(t.paddingRight)+I(t.borderLeftWidth)+I(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=I(g.borderTopWidth)+I(g.borderBottomWidth),a(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=I(g.marginTop)+I(g.marginBottom),a(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return k[e](i)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return i.onScroll(e)})),S(this)};E.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,a(this.scrollbarXRail,{display:"block"}),a(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=I(s(this.scrollbarXRail).marginLeft)+I(s(this.scrollbarXRail).marginRight),this.railYMarginHeight=I(s(this.scrollbarYRail).marginTop)+I(s(this.scrollbarYRail).marginBottom),a(this.scrollbarXRail,{display:"none"}),a(this.scrollbarYRail,{display:"none"}),S(this),L(this,"top",0,!1,!0),L(this,"left",0,!1,!0),a(this.scrollbarXRail,{display:""}),a(this.scrollbarYRail,{display:""}))},E.prototype.onScroll=function(e){this.isAlive&&(S(this),L(this,"top",this.element.scrollTop-this.lastScrollTop),L(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},E.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),c(this.scrollbarX),c(this.scrollbarY),c(this.scrollbarXRail),c(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},E.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};var M=E;const R=i(10),x=i(12),A=i(0),N=i(2),W=i(5),B=i(1),Y=i(26),H=i(3),D=i(27),X=i(6),O=i(7),$=i(28);window.classes={UI:A,Icon:N,Checkbox:Y,Button:W,UIInput:B,EventTarget:H,Storage:D,TGS:X,AvatarPreview:O,PerfectScrollbar:M},window.auth=new class{constructor(e){this._config=R,this._protocol=new $({app:this}),this._user=new n.a({app:this}),this._interface=new x({user:this._user,app:this}),this._interface.render()}},window.onload=function(){["mtp","app"].forEach(e=>{const t=document.createElement("script");t.src=e+".js",document.getElementsByTagName("body")[0].appendChild(t)});const e=document.createElement("link");e.href="./assets/css/app.css",e.type="text/css",e.rel="stylesheet",e.media="screen,print",document.getElementsByTagName("body")[0].appendChild(e)}}]);